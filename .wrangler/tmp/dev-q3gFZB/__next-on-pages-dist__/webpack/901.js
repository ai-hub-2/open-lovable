var se=(he=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(he,{get:(P,Wt)=>(typeof require<"u"?require:P)[Wt]}):he)(function(he){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+he+'" is not supported')});var lo={},Ei=(he,P,Wt)=>(lo.__chunk_901=(yi,uo,ze)=>{"use strict";let Ve,He,Jt,ae;ze.d(uo,{ak:()=>so});let co={"Content-Type":"application/json"},mo=/\{[^{}]+\}/g;class fo extends Request{constructor(t,n){for(let r in super(t,n),n)r in this||(this[r]=n[r])}}function zt(e){let{baseUrl:t="",fetch:n=P.fetch,querySerializer:r,bodySerializer:o,headers:i,...s}={...e};t.endsWith("/")&&(t=t.substring(0,t.length-1)),i=en(co,i);let a=[];async function u(l,d){var c,p;let g,f,{fetch:b=n,headers:y,params:h={},parseAs:E="json",querySerializer:v,bodySerializer:N=o??po,...I}=d||{},T=typeof r=="function"?r:qt(r);v&&(T=typeof v=="function"?v:qt({...typeof r=="object"?r:{},...v}));let _={redirect:"follow",...s,...I,headers:en(i,y,h.header)};_.body&&(_.body=N(_.body)),_.body instanceof FormData&&_.headers.delete("Content-Type");let R=new fo((c=l,p={baseUrl:t,params:h,querySerializer:T},g=`${p.baseUrl}${c}`,p.params?.path&&(g=function(A,x){let U=A;for(let j of A.match(mo)??[]){let V=j.substring(1,j.length-1),X=!1,D="simple";if(V.endsWith("*")&&(X=!0,V=V.substring(0,V.length-1)),V.startsWith(".")?(D="label",V=V.substring(1)):V.startsWith(";")&&(D="matrix",V=V.substring(1)),!x||x[V]===void 0||x[V]===null)continue;let G=x[V];if(Array.isArray(G)){U=U.replace(j,Qt(V,G,{style:D,explode:X}));continue}if(typeof G=="object"){U=U.replace(j,Ht(V,G,{style:D,explode:X}));continue}if(D==="matrix"){U=U.replace(j,`;${Ue(V,G)}`);continue}U=U.replace(j,D==="label"?`.${G}`:G)}return U}(g,p.params.path)),(f=p.querySerializer(p.params.query??{})).startsWith("?")&&(f=f.substring(1)),f&&(g+=`?${f}`),g),_),S={baseUrl:t,fetch:b,parseAs:E,querySerializer:T,bodySerializer:N};for(let A of a)if(A&&typeof A=="object"&&typeof A.onRequest=="function"){R.schemaPath=l,R.params=h;let x=await A.onRequest(R,S);if(x){if(!(x instanceof Request))throw Error("Middleware must return new Request() when modifying the request");R=x}}let w=await b(R);for(let A=a.length-1;A>=0;A--){let x=a[A];if(x&&typeof x=="object"&&typeof x.onResponse=="function"){R.schemaPath=l,R.params=h;let U=await x.onResponse(w,S,R);if(U){if(!(U instanceof Response))throw Error("Middleware must return new Response() when modifying the response");w=U}}}if(w.status===204||w.headers.get("Content-Length")==="0")return w.ok?{data:{},response:w}:{error:{},response:w};if(w.ok)return E==="stream"?{data:w.body,response:w}:{data:await w[E](),response:w};let k=await w.text();try{k=JSON.parse(k)}catch{}return{error:k,response:w}}return{GET:async(l,d)=>u(l,{...d,method:"GET"}),PUT:async(l,d)=>u(l,{...d,method:"PUT"}),POST:async(l,d)=>u(l,{...d,method:"POST"}),DELETE:async(l,d)=>u(l,{...d,method:"DELETE"}),OPTIONS:async(l,d)=>u(l,{...d,method:"OPTIONS"}),HEAD:async(l,d)=>u(l,{...d,method:"HEAD"}),PATCH:async(l,d)=>u(l,{...d,method:"PATCH"}),TRACE:async(l,d)=>u(l,{...d,method:"TRACE"}),use(...l){for(let d of l)if(d){if(typeof d!="object"||!("onRequest"in d||"onResponse"in d))throw Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");a.push(d)}},eject(...l){for(let d of l){let c=a.indexOf(d);c!==-1&&a.splice(c,1)}}}}function Ue(e,t,n){if(t==null)return"";if(typeof t=="object")throw Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${n?.allowReserved===!0?t:encodeURIComponent(t)}`}function Ht(e,t,n){if(!t||typeof t!="object")return"";let r=[],o={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(let a in t)r.push(a,n.allowReserved===!0?t[a]:encodeURIComponent(t[a]));let s=r.join(",");switch(n.style){case"form":return`${e}=${s}`;case"label":return`.${s}`;case"matrix":return`;${e}=${s}`;default:return s}}for(let s in t){let a=n.style==="deepObject"?`${e}[${s}]`:s;r.push(Ue(a,t[s],n))}let i=r.join(o);return n.style==="label"||n.style==="matrix"?`${o}${i}`:i}function Qt(e,t,n){if(!Array.isArray(t))return"";if(n.explode===!1){let i={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",s=(n.allowReserved===!0?t:t.map(a=>encodeURIComponent(a))).join(i);switch(n.style){case"simple":return s;case"label":return`.${s}`;case"matrix":return`;${e}=${s}`;default:return`${e}=${s}`}}let r={simple:",",label:".",matrix:";"}[n.style]||"&",o=[];for(let i of t)n.style==="simple"||n.style==="label"?o.push(n.allowReserved===!0?i:encodeURIComponent(i)):o.push(Ue(e,i,n));return n.style==="label"||n.style==="matrix"?`${r}${o.join(r)}`:o.join(r)}function qt(e){return function(t){let n=[];if(t&&typeof t=="object")for(let r in t){let o=t[r];if(o!=null){if(Array.isArray(o)){n.push(Qt(r,o,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof o=="object"){n.push(Ht(r,o,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}n.push(Ue(r,o,e))}}return n.join("&")}}function po(e){return JSON.stringify(e)}function en(...e){let t=new Headers;for(let n of e)if(n&&typeof n=="object")for(let[r,o]of n instanceof Headers?n.entries():Object.entries(n))if(o===null)t.delete(r);else if(Array.isArray(o))for(let i of o)t.append(r,i);else o!==void 0&&t.set(r,o);return t}var O,m,B,tn,nn,rn,on,sn,an,ln,un,Qe,cn,dn,mn,fn,pn,gn,hn,yn,bn,En,vn,qe,Nn,et=ze(3205);function tt(e,t){return e!==null&&typeof e=="object"&&"$typeName"in e&&typeof e.$typeName=="string"&&(t===void 0||t.typeName===e.$typeName)}function go(){let e=0,t=0;for(let r=0;r<28;r+=7){let o=this.buf[this.pos++];if(e|=(127&o)<<r,(128&o)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,(128&n)==0)return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let o=this.buf[this.pos++];if(t|=(127&o)<<r,(128&o)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function nt(e,t,n){for(let i=0;i<28;i+=7){let s=e>>>i,a=s>>>7!=0||t!=0,u=(a?128|s:s)&255;if(n.push(u),!a)return}let r=e>>>28&15|(7&t)<<4,o=t>>3!=0;if(n.push((o?128|r:r)&255),o){for(let i=3;i<31;i+=7){let s=t>>>i,a=s>>>7!=0,u=(a?128|s:s)&255;if(n.push(u),!a)return}n.push(t>>>31&1)}}function wn(e){let t=e[0]==="-";t&&(e=e.slice(1));let n=0,r=0;function o(i,s){let a=Number(e.slice(i,s));r*=1e6,(n=1e6*n+a)>=4294967296&&(r+=n/4294967296|0,n%=4294967296)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?Tn(n,r):rt(n,r)}function In(e,t){if({lo:e,hi:t}={lo:e>>>0,hi:t>>>0},t<=2097151)return String(4294967296*t+e);let n=16777215&e,r=(e>>>24|t<<8)&16777215,o=t>>16&65535,i=n+6777216*r+6710656*o,s=r+8147497*o,a=2*o;return i>=1e7&&(s+=Math.floor(i/1e7),i%=1e7),s>=1e7&&(a+=Math.floor(s/1e7),s%=1e7),a.toString()+Sn(s)+Sn(i)}function rt(e,t){return{lo:0|e,hi:0|t}}function Tn(e,t){return t=~t,e?e=~e+1:t+=1,rt(e,t)}(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})(O||(O={})),function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(m||(m={}));let Sn=e=>{let t=String(e);return"0000000".slice(t.length)+t};function An(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function ho(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let n=5;(128&e)!=0&&n<10;n++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}let C=function(){let e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(i){let s=typeof i=="bigint"?i:BigInt(i);if(s>n||s<t)throw Error(`invalid int64: ${i}`);return s},uParse(i){let s=typeof i=="bigint"?i:BigInt(i);if(s>o||s<r)throw Error(`invalid uint64: ${i}`);return s},enc(i){return e.setBigInt64(0,this.parse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(i){return e.setBigInt64(0,this.uParse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(i,s)=>(e.setInt32(0,i,!0),e.setInt32(4,s,!0),e.getBigInt64(0,!0)),uDec:(i,s)=>(e.setInt32(0,i,!0),e.setInt32(4,s,!0),e.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:t=>(typeof t!="string"&&(t=t.toString()),On(t),t),uParse:t=>(typeof t!="string"&&(t=t.toString()),_n(t),t),enc:t=>(typeof t!="string"&&(t=t.toString()),On(t),wn(t)),uEnc:t=>(typeof t!="string"&&(t=t.toString()),_n(t),wn(t)),dec:(t,n)=>function(r,o){let i=rt(r,o),s=2147483648&i.hi;s&&(i=Tn(i.lo,i.hi));let a=In(i.lo,i.hi);return s?"-"+a:a}(t,n),uDec:(t,n)=>In(t,n)}}();function On(e){if(!/^-?[0-9]+$/.test(e))throw Error("invalid int64: "+e)}function _n(e){if(!/^[0-9]+$/.test(e))throw Error("invalid uint64: "+e)}function te(e,t){switch(e){case m.STRING:return"";case m.BOOL:return!1;case m.DOUBLE:case m.FLOAT:return 0;case m.INT64:case m.UINT64:case m.SFIXED64:case m.FIXED64:case m.SINT64:return t?"0":C.zero;case m.BYTES:return new Uint8Array(0);default:return 0}}let z=Symbol.for("reflect unsafe local");function Rn(e,t){let n=e[t.localName].case;return n===void 0?n:t.fields.find(r=>r.localName===n)}function ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==void 0}function xn(e,t){if(t.oneof){let n=e[t.oneof.localName];return n.case===t.localName?n.value:void 0}return e[t.localName]}function Vn(e,t,n){t.oneof?e[t.oneof.localName]={case:t.localName,value:n}:e[t.localName]=n}function ee(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function ot(e,t){var n,r,o,i;if(ee(e)&&z in e&&"add"in e&&"field"in e&&typeof e.field=="function"){if(t!==void 0){let s=e.field();return t.listKind==s.listKind&&t.scalar===s.scalar&&((n=t.message)==null?void 0:n.typeName)===((r=s.message)==null?void 0:r.typeName)&&((o=t.enum)==null?void 0:o.typeName)===((i=s.enum)==null?void 0:i.typeName)}return!0}return!1}function it(e,t){var n,r,o,i;if(ee(e)&&z in e&&"has"in e&&"field"in e&&typeof e.field=="function"){if(t!==void 0){let s=e.field();return t.mapKey===s.mapKey&&t.mapKind==s.mapKind&&t.scalar===s.scalar&&((n=t.message)==null?void 0:n.typeName)===((r=s.message)==null?void 0:r.typeName)&&((o=t.enum)==null?void 0:o.typeName)===((i=s.enum)==null?void 0:i.typeName)}return!0}return!1}function st(e,t){return ee(e)&&z in e&&"desc"in e&&ee(e.desc)&&e.desc.kind==="message"&&(t===void 0||e.desc.typeName==t.typeName)}function be(e){let t=e.fields[0];return Un(e.typeName)&&t!==void 0&&t.fieldKind=="scalar"&&t.name=="value"&&t.number==1}function Un(e){return e.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(e.substring(16))}function M(e,t){if(tt(t,e))return t;let n=function(r){let o;if(function(i){switch(i.file.edition){case 999:return!1;case 998:return!0;default:return i.fields.some(s=>s.presence!=2&&s.fieldKind!="message"&&!s.oneof)}}(r)){let i,s,a=Dn.get(r);if(a)({prototype:i,members:s}=a);else{for(let u of(i={},s=new Set,r.members))u.kind!="oneof"&&(u.fieldKind=="scalar"||u.fieldKind=="enum")&&u.presence!=2&&(s.add(u),i[u.localName]=ut(u));Dn.set(r,{prototype:i,members:s})}for(let u of((o=Object.create(i)).$typeName=r.typeName,r.members))if(!s.has(u)){if(u.kind=="field"&&(u.fieldKind=="message"||(u.fieldKind=="scalar"||u.fieldKind=="enum")&&u.presence!=2))continue;o[u.localName]=ut(u)}}else for(let i of(o={$typeName:r.typeName},r.members))(i.kind=="oneof"||i.presence==2)&&(o[i.localName]=ut(i));return o}(e);return t!==void 0&&function(r,o,i){for(let s of r.members){let a,u=i[s.localName];if(u!=null){if(s.kind=="oneof"){let l=Rn(i,s);if(!l)continue;a=l,u=xn(i,l)}else a=s;switch(a.fieldKind){case"message":u=at(a,u);break;case"scalar":u=kn(a,u);break;case"list":u=function(l,d){if(Array.isArray(d)){if(l.scalar==m.BYTES)return d.map(lt);if(l.listKind=="message")return d.map(c=>at(l,c))}return d}(a,u);break;case"map":u=function(l,d){if(ee(d)){if(l.scalar==m.BYTES)return Fn(d,lt);if(l.mapKind=="message")return Fn(d,c=>at(l,c))}return d}(a,u)}Vn(o,a,u)}}}(e,n,t),n}function kn(e,t){return e.scalar==m.BYTES?lt(t):t}function at(e,t){if(e.fieldKind=="message"&&!e.oneof&&be(e.message))return kn(e.message.fields[0],t);if(ee(t)){if(e.message.typeName=="google.protobuf.Struct"&&e.parent.typeName!=="google.protobuf.Value")return t;if(!tt(t,e.message))return M(e.message,t)}return t}function lt(e){return Array.isArray(e)?new Uint8Array(e):e}function Fn(e,t){let n={};for(let r of Object.entries(e))n[r[0]]=t(r[1]);return n}let yo=Symbol(),Dn=new WeakMap;function ut(e){if(e.kind=="oneof")return{case:void 0};if(e.fieldKind=="list")return[];if(e.fieldKind=="map")return{};if(e.fieldKind=="message")return yo;let t=e.getDefaultValue();return t!==void 0?e.fieldKind=="scalar"&&e.longAsString?t.toString():t:e.fieldKind=="scalar"?te(e.scalar,e.longAsString):e.enum.values[0].number}let bo=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class $ extends Error{constructor(t,n,r="FieldValueInvalidError"){super(n),this.name=r,this.field=()=>t}}let ct=Symbol.for("@bufbuild/protobuf/text-encoding");function dt(){if(P[ct]==null){let e=new P.TextEncoder,t=new P.TextDecoder;P[ct]={encodeUtf8:n=>e.encode(n),decodeUtf8:n=>t.decode(n),checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return P[ct]}(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(B||(B={}));class mt{constructor(t=dt().encodeUtf8){this.encodeUtf8=t,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let t=0;for(let o=0;o<this.chunks.length;o++)t+=this.chunks[o].length;let n=new Uint8Array(t),r=0;for(let o=0;o<this.chunks.length;o++)n.set(this.chunks[o],r),r+=this.chunks[o].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Cn(t);t>127;)this.buf.push(127&t|128),t>>>=7;return this.buf.push(t),this}int32(t){return pt(t),An(t,this.buf),this}bool(t){return this.buf.push(+!!t),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.encodeUtf8(t);return this.uint32(n.byteLength),this.raw(n)}float(t){var n=t;if(typeof n=="string"){let o=n;if(Number.isNaN(n=Number(n))&&o!=="NaN")throw Error("invalid float32: "+o)}else if(typeof n!="number")throw Error("invalid float32: "+typeof n);if(Number.isFinite(n)&&(n>34028234663852886e22||n<-34028234663852886e22))throw Error("invalid float32: "+n);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,t,!0),this.raw(r)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){Cn(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){pt(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return pt(t),An(t=(t<<1^t>>31)>>>0,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),o=C.enc(t);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),o=C.uEnc(t);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(n)}int64(t){let n=C.enc(t);return nt(n.lo,n.hi,this.buf),this}sint64(t){let n=C.enc(t),r=n.hi>>31;return nt(n.lo<<1^r,(n.hi<<1|n.lo>>>31)^r,this.buf),this}uint64(t){let n=C.uEnc(t);return nt(n.lo,n.hi,this.buf),this}}class ft{constructor(t,n=dt().decodeUtf8){this.decodeUtf8=n,this.varint64=go,this.uint32=ho,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength)}tag(){let t=this.uint32(),n=t>>>3,r=7&t;if(n<=0||r<0||r>5)throw Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t,n){let r=this.pos;switch(t){case B.Varint:for(;128&this.buf[this.pos++];);break;case B.Bit64:this.pos+=4;case B.Bit32:this.pos+=4;break;case B.LengthDelimited:let o=this.uint32();this.pos+=o;break;case B.StartGroup:for(;;){let[i,s]=this.tag();if(s===B.EndGroup){if(n!==void 0&&i!==n)throw Error("invalid end group tag");break}this.skip(s,i)}break;default:throw Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let t=this.uint32();return t>>>1^-(1&t)}int64(){return C.dec(...this.varint64())}uint64(){return C.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(1&t);return t=(t>>>1|(1&n)<<31)^r,n=n>>>1^r,C.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return C.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return C.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.decodeUtf8(this.bytes())}}function pt(e){if(typeof e=="string")e=Number(e);else if(typeof e!="number")throw Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int32: "+e)}function Cn(e){if(typeof e=="string")e=Number(e);else if(typeof e!="number")throw Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint32: "+e)}function ne(e,t){let n,r=e.fieldKind=="list"?ot(t,e):e.fieldKind=="map"?it(t,e):gt(e,t);if(r!==!0){switch(e.fieldKind){case"list":n=`expected ${Zn(e)}, got ${Z(t)}`;break;case"map":n=`expected ${Yn(e)}, got ${Z(t)}`;break;default:n=ke(e,t,r)}return new $(e,n)}}function Ln(e,t,n){let r=gt(e,n);if(r!==!0)return new $(e,`list item #${t+1}: ${ke(e,n,r)}`)}function gt(e,t){return e.scalar!==void 0?Bn(t,e.scalar):e.enum!==void 0?e.enum.open?Number.isInteger(t):e.enum.values.some(n=>n.number===t):st(t,e.message)}function Bn(e,t){switch(t){case m.DOUBLE:return typeof e=="number";case m.FLOAT:return typeof e!="number"?!1:Number.isNaN(e)||!Number.isFinite(e)?!0:e>34028234663852886e22||e<-34028234663852886e22?`${e.toFixed()} out of range`:!0;case m.INT32:case m.SFIXED32:case m.SINT32:return typeof e!="number"||!Number.isInteger(e)?!1:e>2147483647||e<-2147483648?`${e.toFixed()} out of range`:!0;case m.FIXED32:case m.UINT32:return typeof e!="number"||!Number.isInteger(e)?!1:e>4294967295||e<0?`${e.toFixed()} out of range`:!0;case m.BOOL:return typeof e=="boolean";case m.STRING:return typeof e!="string"?!1:dt().checkUtf8(e)||"invalid UTF8";case m.BYTES:return e instanceof Uint8Array;case m.INT64:case m.SFIXED64:case m.SINT64:if(typeof e=="bigint"||typeof e=="number"||typeof e=="string"&&e.length>0)try{return C.parse(e),!0}catch{return`${e} out of range`}return!1;case m.FIXED64:case m.UINT64:if(typeof e=="bigint"||typeof e=="number"||typeof e=="string"&&e.length>0)try{return C.uParse(e),!0}catch{return`${e} out of range`}return!1}}function ke(e,t,n){return n=typeof n=="string"?`: ${n}`:`, got ${Z(t)}`,e.scalar!==void 0?`expected ${function(r){switch(r){case m.STRING:return"string";case m.BOOL:return"boolean";case m.INT64:case m.SINT64:case m.SFIXED64:return"bigint (int64)";case m.UINT64:case m.FIXED64:return"bigint (uint64)";case m.BYTES:return"Uint8Array";case m.DOUBLE:return"number (float64)";case m.FLOAT:return"number (float32)";case m.FIXED32:case m.UINT32:return"number (uint32)";case m.INT32:case m.SFIXED32:case m.SINT32:return"number (int32)"}}(e.scalar)}`+n:e.enum!==void 0?`expected ${e.enum.toString()}`+n:`expected ${Gn(e.message)}`+n}function Z(e){switch(typeof e){case"object":return e===null?"null":e instanceof Uint8Array?`Uint8Array(${e.length})`:Array.isArray(e)?`Array(${e.length})`:ot(e)?Zn(e.field()):it(e)?Yn(e.field()):st(e)?Gn(e.desc):tt(e)?`message ${e.$typeName}`:"object";case"string":return e.length>30?"string":`"${e.split('"').join('\\"')}"`;case"boolean":case"number":return String(e);case"bigint":return String(e)+"n";default:return typeof e}}function Gn(e){return`ReflectMessage (${e.typeName})`}function Zn(e){switch(e.listKind){case"message":return`ReflectList (${e.message.toString()})`;case"enum":return`ReflectList (${e.enum.toString()})`;case"scalar":return`ReflectList (${m[e.scalar]})`}}function Yn(e){switch(e.mapKind){case"message":return`ReflectMap (${m[e.mapKey]}, ${e.message.toString()})`;case"enum":return`ReflectMap (${m[e.mapKey]}, ${e.enum.toString()})`;case"scalar":return`ReflectMap (${m[e.mapKey]}, ${m[e.scalar]})`}}function W(e,t,n=!0){return new Xn(e,t,n)}class Xn{get sortedFields(){var t;return(t=this._sortedFields)!=null?t:this._sortedFields=this.desc.fields.concat().sort((n,r)=>n.number-r.number)}constructor(t,n,r=!0){this.lists=new Map,this.maps=new Map,this.check=r,this.desc=t,this.message=this[z]=n??M(t),this.fields=t.fields,this.oneofs=t.oneofs,this.members=t.members}findNumber(t){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(n=>[n.number,n]))),this._fieldsByNumber.get(t)}oneofCase(t){return Ee(this.message,t),Rn(this.message,t)}isSet(t){Ee(this.message,t);var n=this.message;let r=t.localName;if(t.oneof)return n[t.oneof.localName].case===r;if(t.presence!=2)return n[r]!==void 0&&Object.prototype.hasOwnProperty.call(n,r);switch(t.fieldKind){case"list":return n[r].length>0;case"map":return Object.keys(n[r]).length>0;case"scalar":return!function(o,i){switch(o){case m.BOOL:return i===!1;case m.STRING:return i==="";case m.BYTES:return i instanceof Uint8Array&&!i.byteLength;default:return i==0}}(t.scalar,n[r]);case"enum":return n[r]!==t.enum.values[0].number}throw Error("message field with implicit presence")}clear(t){Ee(this.message,t);var n=this.message;let r=t.localName;if(t.oneof){let o=t.oneof.localName;n[o].case===r&&(n[o]={case:void 0})}else if(t.presence!=2)delete n[r];else switch(t.fieldKind){case"map":n[r]={};break;case"list":n[r]=[];break;case"enum":n[r]=t.enum.values[0].number;break;case"scalar":n[r]=te(t.scalar,t.longAsString)}}get(t){Ee(this.message,t);let n=xn(this.message,t);switch(t.fieldKind){case"list":let r=this.lists.get(t);return r&&r[z]===n||this.lists.set(t,r=new Eo(t,n,this.check)),r;case"map":let o=this.maps.get(t);return o&&o[z]===n||this.maps.set(t,o=new vo(t,n,this.check)),o;case"message":return yt(t,n,this.check);case"scalar":return n===void 0?te(t.scalar,!1):vt(t,n);case"enum":return n??t.enum.values[0].number}}set(t,n){let r;if(Ee(this.message,t),this.check){let o=ne(t,n);if(o)throw o}r=t.fieldKind=="message"?ht(t,n):it(n)||ot(n)?n[z]:Nt(t,n),Vn(this.message,t,r)}getUnknown(){return this.message.$unknown}setUnknown(t){this.message.$unknown=t}}function Ee(e,t){if(t.parent.typeName!==e.$typeName)throw new $(t,`cannot use ${t.toString()} with message ${e.$typeName}`,"ForeignFieldError")}class Eo{field(){return this._field}get size(){return this._arr.length}constructor(t,n,r){this._field=t,this._arr=this[z]=n,this.check=r}get(t){let n=this._arr[t];return n===void 0?void 0:bt(this._field,n,this.check)}set(t,n){if(t<0||t>=this._arr.length)throw new $(this._field,`list item #${t+1}: out of range`);if(this.check){let r=Ln(this._field,t,n);if(r)throw r}this._arr[t]=jn(this._field,n)}add(t){if(this.check){let n=Ln(this._field,this._arr.length,t);if(n)throw n}this._arr.push(jn(this._field,t))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(let t of this._arr)yield bt(this._field,t,this.check)}*entries(){for(let t=0;t<this._arr.length;t++)yield[t,bt(this._field,this._arr[t],this.check)]}}class vo{constructor(t,n,r=!0){this.obj=this[z]=n??{},this.check=r,this._field=t}field(){return this._field}set(t,n){var r,o;if(this.check){let i=function(s,a,u){let l=Bn(a,s.mapKey);if(l!==!0)return new $(s,`invalid map key: ${ke({scalar:s.mapKey},a,l)}`);let d=gt(s,u);if(d!==!0)return new $(s,`map entry ${Z(a)}: ${ke(s,u,d)}`)}(this._field,t,n);if(i)throw i}return this.obj[Fe(t)]=(r=this._field,o=n,r.mapKind=="message"?ht(r,o):Nt(r,o)),this}delete(t){let n=Fe(t),r=Object.prototype.hasOwnProperty.call(this.obj,n);return r&&delete this.obj[n],r}clear(){for(let t of Object.keys(this.obj))delete this.obj[t]}get(t){let n=this.obj[Fe(t)];return n!==void 0&&(n=Et(this._field,n,this.check)),n}has(t){return Object.prototype.hasOwnProperty.call(this.obj,Fe(t))}*keys(){for(let t of Object.keys(this.obj))yield Pn(t,this._field.mapKey)}*entries(){for(let t of Object.entries(this.obj))yield[Pn(t[0],this._field.mapKey),Et(this._field,t[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(let t of Object.values(this.obj))yield Et(this._field,t,this.check)}forEach(t,n){for(let r of this.entries())t.call(n,r[1],r[0],this)}}function ht(e,t){return st(t)?Un(t.message.$typeName)&&!e.oneof&&e.fieldKind=="message"?t.message.value:t.desc.typeName=="google.protobuf.Struct"&&e.parent.typeName!="google.protobuf.Value"?function n(r){let o={};for(let[i,s]of Object.entries(r.fields))o[i]=function a(u){switch(u.kind.case){case"structValue":return n(u.kind.value);case"listValue":return u.kind.value.values.map(a);case"nullValue":case void 0:return null;default:return u.kind.value}}(s);return o}(t.message):t.message:t}function yt(e,t,n){return t!==void 0&&(be(e.message)&&!e.oneof&&e.fieldKind=="message"?t={$typeName:e.message.typeName,value:vt(e.message.fields[0],t)}:e.message.typeName=="google.protobuf.Struct"&&e.parent.typeName!="google.protobuf.Value"&&ee(t)&&(t=function r(o){let i={$typeName:"google.protobuf.Struct",fields:{}};if(ee(o))for(let[s,a]of Object.entries(o))i.fields[s]=function u(l){let d={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof l){case"number":d.kind={case:"numberValue",value:l};break;case"string":d.kind={case:"stringValue",value:l};break;case"boolean":d.kind={case:"boolValue",value:l};break;case"object":if(l===null)d.kind={case:"nullValue",value:0};else if(Array.isArray(l)){let c={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(l))for(let p of l)c.values.push(u(p));d.kind={case:"listValue",value:c}}else d.kind={case:"structValue",value:r(l)}}return d}(a);return i}(t))),new Xn(e.message,t,n)}function jn(e,t){return e.listKind=="message"?ht(e,t):Nt(e,t)}function bt(e,t,n){return e.listKind=="message"?yt(e,t,n):vt(e,t)}function Et(e,t,n){return e.mapKind=="message"?yt(e,t,n):t}function Fe(e){return typeof e=="string"||typeof e=="number"?e:String(e)}function Pn(e,t){switch(t){case m.STRING:break;case m.INT32:case m.FIXED32:case m.UINT32:case m.SFIXED32:case m.SINT32:{let n=Number.parseInt(e);if(Number.isFinite(n))return n;break}case m.BOOL:switch(e){case"true":return!0;case"false":return!1}break;case m.UINT64:case m.FIXED64:try{return C.uParse(e)}catch{}break;default:try{return C.parse(e)}catch{}}return e}function vt(e,t){switch(e.scalar){case m.INT64:case m.SFIXED64:case m.SINT64:"longAsString"in e&&e.longAsString&&typeof t=="string"&&(t=C.parse(t));break;case m.FIXED64:case m.UINT64:"longAsString"in e&&e.longAsString&&typeof t=="string"&&(t=C.uParse(t))}return t}function Nt(e,t){switch(e.scalar){case m.INT64:case m.SFIXED64:case m.SINT64:"longAsString"in e&&e.longAsString?t=String(t):(typeof t=="string"||typeof t=="number")&&(t=C.parse(t));break;case m.FIXED64:case m.UINT64:"longAsString"in e&&e.longAsString?t=String(t):(typeof t=="string"||typeof t=="number")&&(t=C.uParse(t))}return t}let Kn={readUnknownFields:!0};function De(e,t,n){let r=W(e,void 0,!1);return $n(r,new ft(t),n?Object.assign(Object.assign({},Kn),n):Kn,!1,t.byteLength),r.message}function $n(e,t,n,r,o){var i;let s,a,u=r?t.len:t.pos+o,l=(i=e.getUnknown())!=null?i:[];for(;t.pos<u&&([s,a]=t.tag(),!r||a!=B.EndGroup);){let d=e.findNumber(s);if(!d){let c=t.skip(a,s);n.readUnknownFields&&l.push({no:s,wireType:a,data:c});continue}Mn(e,t,d,a,n)}if(r&&(a!=B.EndGroup||s!==o))throw Error("invalid end group tag");l.length>0&&e.setUnknown(l)}function Mn(e,t,n,r,o){var i;switch(n.fieldKind){case"scalar":e.set(n,le(t,n.scalar));break;case"enum":let s=le(t,m.INT32);if(n.enum.open)e.set(n,s);else if(n.enum.values.some(a=>a.number===s))e.set(n,s);else if(o.readUnknownFields){let a=new mt().int32(s).finish(),u=(i=e.getUnknown())!=null?i:[];u.push({no:n.number,wireType:r,data:a}),e.setUnknown(u)}break;case"message":e.set(n,wt(t,o,n,e.get(n)));break;case"list":(function(a,u,l,d){var c;let p=l.field();if(p.listKind==="message")return l.add(wt(a,d,p));let g=(c=p.scalar)!=null?c:m.INT32;if(u!=B.LengthDelimited||g==m.STRING||g==m.BYTES)return l.add(le(a,g));let f=a.uint32()+a.pos;for(;a.pos<f;)l.add(le(a,g))})(t,r,e.get(n),o);break;case"map":(function(a,u,l){let d,c,p=u.field(),g=a.uint32(),f=a.pos+g;for(;a.pos<f;){let[b]=a.tag();switch(b){case 1:d=le(a,p.mapKey);break;case 2:switch(p.mapKind){case"scalar":c=le(a,p.scalar);break;case"enum":c=a.int32();break;case"message":c=wt(a,l,p)}}}if(d===void 0&&(d=te(p.mapKey,!1)),c===void 0)switch(p.mapKind){case"scalar":c=te(p.scalar,!1);break;case"enum":c=p.enum.values[0].number;break;case"message":c=W(p.message,void 0,!1)}u.set(d,c)})(t,e.get(n),o)}}function wt(e,t,n,r){let o=n.delimitedEncoding,i=r??W(n.message,void 0,!1);return $n(i,e,t,o,o?n.number:e.uint32()),i}function le(e,t){switch(t){case m.STRING:return e.string();case m.BOOL:return e.bool();case m.DOUBLE:return e.double();case m.FLOAT:return e.float();case m.INT32:return e.int32();case m.INT64:return e.int64();case m.UINT64:return e.uint64();case m.FIXED64:return e.fixed64();case m.BYTES:return e.bytes();case m.FIXED32:return e.fixed32();case m.SFIXED32:return e.sfixed32();case m.SFIXED64:return e.sfixed64();case m.SINT64:return e.sint64();case m.UINT32:return e.uint32();case m.SINT32:return e.sint32()}}function It(e){let t=O[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class F extends Error{constructor(t,n=O.Unknown,r,o,i){super(function(s,a){return s.length?`[${It(a)}] ${s}`:`[${It(a)}]`}(t,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=n,this.metadata=new Headers(r??{}),this.details=o??[],this.cause=i}static from(t,n=O.Unknown){return t instanceof F?t:t instanceof Error?t.name=="AbortError"?new F(t.message,O.Canceled):new F(t.message,n,void 0,void 0,t):new F(String(t),n,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error&&(Object.getPrototypeOf(t)===F.prototype||t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t)}findDetails(t){let n=t.kind==="message"?{getMessage:o=>o===t.typeName?t:void 0}:t,r=[];for(let o of this.details){if("desc"in o){n.getMessage(o.desc.typeName)&&r.push(M(o.desc,o.value));continue}let i=n.getMessage(o.type);if(i)try{r.push(De(i,o.value))}catch{}}return r}}var No=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(s,a){var u,l,d;u=s,l=a,d=(i=e[o](i)).done,Promise.resolve(i.value).then(function(c){u({value:c,done:d})},l)})}}},ve=function(e){return this instanceof ve?(this.v=e,this):new ve(e)},wo=function(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(c){return function(p){return Promise.resolve(p).then(c,l)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(c,p){o[c]&&(r[c]=function(g){return new Promise(function(f,b){i.push([c,g,f,b])>1||a(c,g)})},p&&(r[c]=p(r[c])))}function a(c,p){try{var g;(g=o[c](p)).value instanceof ve?Promise.resolve(g.value.v).then(u,l):d(i[0][2],g)}catch(f){d(i[0][3],f)}}function u(c){a("next",c)}function l(c){a("throw",c)}function d(c,p){c(p),i.shift(),i.length&&a(i[0][0],i[0][1])}},Io=function(e){var t,n;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,i){t[o]=e[o]?function(s){return(n=!n)?{value:ve(e[o](s)),done:!1}:i?i(s):s}:i}},Wn=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(s,a){var u,l,d;u=s,l=a,d=(i=e[o](i)).done,Promise.resolve(i.value).then(function(c){u({value:c,done:d})},l)})}}},ue=function(e){return this instanceof ue?(this.v=e,this):new ue(e)},To=function(e){var t,n;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,i){t[o]=e[o]?function(s){return(n=!n)?{value:ue(e[o](s)),done:!1}:i?i(s):s}:i}},So=function(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(c){return function(p){return Promise.resolve(p).then(c,l)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(c,p){o[c]&&(r[c]=function(g){return new Promise(function(f,b){i.push([c,g,f,b])>1||a(c,g)})},p&&(r[c]=p(r[c])))}function a(c,p){try{var g;(g=o[c](p)).value instanceof ue?Promise.resolve(g.value.v).then(u,l):d(i[0][2],g)}catch(f){d(i[0][3],f)}}function u(c){a("next",c)}function l(c){a("throw",c)}function d(c,p){c(p),i.shift(),i.length&&a(i[0][0],i[0][1])}};function Tt(e,t){var n=o=>{var i,s,a,u,l,d,c,p;switch(o.methodKind){case"unary":return i=t,s=o,async function(g,f){var b,y;let h=await i.unary(s,f?.signal,f?.timeoutMs,f?.headers,g,f?.contextValues);return(b=f?.onHeader)==null||b.call(f,h.header),(y=f?.onTrailer)==null||y.call(f,h.trailer),h.message};case"server_streaming":return a=t,u=o,function(g,f){return Jn(a.stream(u,f?.signal,f?.timeoutMs,f?.headers,function(b){return wo(this,arguments,function*(){yield ve(yield*Io(No(b)))})}([g]),f?.contextValues),f)};case"client_streaming":return l=t,d=o,async function(g,f){let b,y=await l.stream(d,f?.signal,f?.timeoutMs,f?.headers,g,f?.contextValues);(T=f?.onHeader)==null||T.call(f,y.header);let h=0;try{for(var E,v,N,I,T,_,R,S=!0,w=Wn(y.message);!(E=(R=await w.next()).done);S=!0)I=R.value,S=!1,b=I,h++}catch(k){v={error:k}}finally{try{!S&&!E&&(N=w.return)&&await N.call(w)}finally{if(v)throw v.error}}if(!b)throw new F("protocol error: missing response message",O.Unimplemented);if(h>1)throw new F("protocol error: received extra messages for client streaming method",O.Unimplemented);return(_=f?.onTrailer)==null||_.call(f,y.trailer),b};case"bidi_streaming":return c=t,p=o,function(g,f){return Jn(c.stream(p,f?.signal,f?.timeoutMs,f?.headers,g,f?.contextValues),f)};default:return null}};let r={};for(let o of e.methods){let i=n(o);i!=null&&(r[o.localName]=i)}return r}function Jn(e,t){let n=function(){return So(this,arguments,function*(){var r,o;let i=yield ue(e);(r=t?.onHeader)==null||r.call(t,i.header),yield ue(yield*To(Wn(i.message))),(o=t?.onTrailer)==null||o.call(t,i.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function St(e){let t=function(){if(!ae){ae=[];let u=Hn("std");for(let l=0;l<u.length;l++)ae[u[l].charCodeAt(0)]=l;ae[45]=u.indexOf("+"),ae[95]=u.indexOf("/")}return ae}(),n=3*e.length/4;e[e.length-2]=="="?n-=2:e[e.length-1]=="="&&(n-=1);let r=new Uint8Array(n),o=0,i=0,s,a=0;for(let u=0;u<e.length;u++){if((s=t[e.charCodeAt(u)])===void 0)switch(e[u]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(i){case 0:a=s,i=1;break;case 1:r[o++]=a<<2|(48&s)>>4,a=s,i=2;break;case 2:r[o++]=(15&a)<<4|(60&s)>>2,a=s,i=3;break;case 3:r[o++]=(3&a)<<6|s,i=0}}if(i==1)throw Error("invalid base64 string");return r.subarray(0,o)}function zn(e,t="std"){let n=Hn(t),r=t=="std",o="",i=0,s,a=0;for(let u=0;u<e.length;u++)switch(s=e[u],i){case 0:o+=n[s>>2],a=(3&s)<<4,i=1;break;case 1:o+=n[a|s>>4],a=(15&s)<<2,i=2;break;case 2:o+=n[a|s>>6],o+=n[63&s],i=0}return i&&(o+=n[a],r&&(o+="=",i==1&&(o+="="))),o}function Hn(e){return He||(Jt=(He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("")).slice(0,-2).concat("-","_")),e=="url"?Jt:He}function Ne(e){let t=!1,n=[];for(let r=0;r<e.length;r++){let o=e.charAt(r);switch(o){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(o),t=!1;break;default:t&&(t=!1,o=o.toUpperCase()),n.push(o)}}return n.join("")}let Ao=new Set(["constructor","toString","toJSON","valueOf"]);function we(e){return Ao.has(e)?e+"$":e}function At(e){for(let t of e.field)ye(t,"jsonName")||(t.jsonName=Ne(t.name));e.nestedType.forEach(At)}function Qn(...e){let t=function(){let n=new Map,r=new Map,o=new Map;return{kind:"registry",types:n,extendees:r,[Symbol.iterator]:()=>n.values(),get files(){return o.values()},addFile(i,s,a){if(o.set(i.proto.name,i),!s)for(let u of function*l(d){switch(d.kind){case"file":for(let c of d.messages)yield c,yield*l(c);yield*d.enums,yield*d.services,yield*d.extensions;break;case"message":for(let c of d.nestedMessages)yield c,yield*l(c);yield*d.nestedEnums,yield*d.nestedExtensions}}(i))this.add(u);if(a)for(let u of i.dependencies)this.addFile(u,s,a)},add(i){if(i.kind=="extension"){let s=r.get(i.extendee.typeName);s||r.set(i.extendee.typeName,s=new Map),s.set(i.number,i)}n.set(i.typeName,i)},get:i=>n.get(i),getFile:i=>o.get(i),getMessage(i){let s=n.get(i);return s?.kind=="message"?s:void 0},getEnum(i){let s=n.get(i);return s?.kind=="enum"?s:void 0},getExtension(i){let s=n.get(i);return s?.kind=="extension"?s:void 0},getExtensionFor(i,s){var a;return(a=r.get(i.typeName))==null?void 0:a.get(s)},getService(i){let s=n.get(i);return s?.kind=="service"?s:void 0}}}();if(!e.length)return t;if("$typeName"in e[0]&&e[0].$typeName=="google.protobuf.FileDescriptorSet"){for(let n of e[0].file)er(n,t);return t}if("$typeName"in e[0]){let n=e[0],r=e[1],o=new Set;for(let i of[n,...function s(a){let u=[];for(let l of a.dependency){if(t.getFile(l)!=null||o.has(l))continue;let d=r(l);if(!d)throw Error(`Unable to resolve ${l}, imported by ${a.name}`);"kind"in d?t.addFile(d,!1,!0):(o.add(d.name),u.push(d))}return u.concat(...u.map(s))}(n)].reverse())er(i,t)}else for(let n of e)for(let r of n.files)t.addFile(r);return t}let qn={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1}};function er(e,t){var n,r,o,i;let s={kind:"file",proto:e,deprecated:(r=(n=e.options)==null?void 0:n.deprecated)!=null&&r,edition:function(l){switch(l.syntax){case"":case"proto2":return 998;case"proto3":return 999;case"editions":if(l.edition in qn)return l.edition;throw Error(`${l.name}: unsupported edition`);default:throw Error(`${l.name}: unsupported syntax "${l.syntax}"`)}}(e),name:e.name.replace(/\.proto$/,""),dependencies:(o=e,i=t,o.dependency.map(l=>{let d=i.getFile(l);if(!d)throw Error(`Cannot find ${l}, imported by ${o.name}`);return d})),enums:[],messages:[],extensions:[],services:[],toString:()=>`file ${e.name}`},a=new Map,u={get:l=>a.get(l),add(l){var d;J(((d=l.proto.options)==null?void 0:d.mapEntry)===!0),a.set(l.typeName,l)}};for(let l of e.enumType)tr(l,s,void 0,t);for(let l of e.messageType)(function d(c,p,g,f,b){var y,h,E,v;let N={kind:"message",proto:c,deprecated:(h=(y=c.options)==null?void 0:y.deprecated)!=null&&h,file:p,parent:g,name:c.name,typeName:Ce(c,g,p),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};for(let I of(((E=c.options)==null?void 0:E.mapEntry)===!0?b.add(N):(((v=g?.nestedMessages)!=null?v:p.messages).push(N),f.add(N)),c.enumType))tr(I,p,N,f);for(let I of c.nestedType)d(I,p,N,f,b)})(l,s,void 0,t,u);for(let l of e.service)(function(d,c,p){var g,f;let b={kind:"service",proto:d,deprecated:(f=(g=d.options)==null?void 0:g.deprecated)!=null&&f,file:c,name:d.name,typeName:Ce(d,void 0,c),methods:[],method:{},toString(){return`service ${this.typeName}`}};for(let y of(c.services.push(b),p.add(b),d.method)){let h=function(E,v,N){var I,T,_,R;let S;S=E.clientStreaming&&E.serverStreaming?"bidi_streaming":E.clientStreaming?"client_streaming":E.serverStreaming?"server_streaming":"unary";let w=N.getMessage(H(E.inputType)),k=N.getMessage(H(E.outputType));J(w,`invalid MethodDescriptorProto: input_type ${E.inputType} not found`),J(k,`invalid MethodDescriptorProto: output_type ${E.inputType} not found`);let A=E.name;return{kind:"rpc",proto:E,deprecated:(T=(I=E.options)==null?void 0:I.deprecated)!=null&&T,parent:v,name:A,localName:we(A.length?we(A[0].toLowerCase()+A.substring(1)):A),methodKind:S,input:w,output:k,idempotency:(R=(_=E.options)==null?void 0:_.idempotencyLevel)!=null?R:0,toString:()=>`rpc ${v.typeName}.${A}`}}(y,b,p);b.methods.push(h),b.method[h.localName]=h}})(l,s,t);for(let l of(Ot(s,t),a.values()))_t(l,t,u);for(let l of s.messages)_t(l,t,u),Ot(l,t);t.addFile(s,!0)}function Ot(e,t){switch(e.kind){case"file":for(let n of e.proto.extension){let r=Rt(n,e,t);e.extensions.push(r),t.add(r)}break;case"message":for(let n of e.proto.extension){let r=Rt(n,e,t);e.nestedExtensions.push(r),t.add(r)}for(let n of e.nestedMessages)Ot(n,t)}}function _t(e,t,n){let r=e.proto.oneofDecl.map(i=>{var s,a;return s=i,{kind:"oneof",proto:s,deprecated:!1,parent:a=e,fields:[],name:s.name,localName:we(Ne(s.name)),toString(){return`oneof ${a.typeName}.${this.name}`}}}),o=new Set;for(let i of e.proto.field){let s=function(u,l){if(!ye(u,"oneofIndex")||u.proto3Optional)return;let d=l[u.oneofIndex];return J(d,`invalid FieldDescriptorProto: oneof #${u.oneofIndex} for field #${u.number} not found`),d}(i,r),a=Rt(i,e,t,s,n);e.fields.push(a),e.field[a.localName]=a,s===void 0?e.members.push(a):(s.fields.push(a),o.has(s)||(o.add(s),e.members.push(s)))}for(let i of r.filter(s=>o.has(s)))e.oneofs.push(i);for(let i of e.nestedMessages)_t(i,t,n)}function tr(e,t,n,r){var o,i,s,a,u,l,d;let c=function(g,f){var b;let y=((b=g).substring(0,1)+b.substring(1).replace(/[A-Z]/g,h=>"_"+h)).toLowerCase()+"_";for(let h of f){if(!h.name.toLowerCase().startsWith(y))return;let E=h.name.substring(y.length);if(E.length==0||/^\d/.test(E))return}return y}(e.name,e.value),p={kind:"enum",proto:e,deprecated:(i=(o=e.options)==null?void 0:o.deprecated)!=null&&i,file:t,parent:n,open:!0,name:e.name,typeName:Ce(e,n,t),value:{},values:[],sharedPrefix:c,toString(){return`enum ${this.typeName}`}};for(let g of(p.open=ce("enumType",{proto:(l=p).proto,parent:(d=l.parent)!=null?d:l.file})==1,r.add(p),e.value)){let f=g.name;p.values.push(p.value[g.number]={kind:"enum_value",proto:g,deprecated:(a=(s=g.options)==null?void 0:s.deprecated)!=null&&a,parent:p,name:f,localName:we(c==null?f:f.substring(c.length)),number:g.number,toString:()=>`enum value ${p.typeName}.${f}`})}((u=n?.nestedEnums)!=null?u:t.enums).push(p)}function Rt(e,t,n,r,o){var i,s,a;let u=o===void 0,l={kind:"field",proto:e,deprecated:(s=(i=e.options)==null?void 0:i.deprecated)!=null&&s,name:e.name,number:e.number,scalar:void 0,message:void 0,enum:void 0,presence:function(g,f,b,y){if(g.label==2)return 3;if(g.label==3)return 2;if(f||g.proto3Optional||b)return 1;let h=ce("fieldPresence",{proto:g,parent:y});return h==2&&(g.type==11||g.type==10)?1:h}(e,r,u,t),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(u){let g=t.kind=="file"?t:t.file,f=t.kind=="file"?void 0:t,b=Ce(e,f,g);l.kind="extension",l.file=g,l.parent=f,l.oneof=void 0,l.typeName=b,l.jsonName=`[${b}]`,l.toString=()=>`extension ${b}`;let y=n.getMessage(H(e.extendee));J(y,`invalid FieldDescriptorProto: extendee ${e.extendee} not found`),l.extendee=y}else J(t.kind=="message"),l.parent=t,l.oneof=r,l.localName=r?Ne(e.name):we(Ne(e.name)),l.jsonName=e.jsonName,l.toString=()=>`field ${t.typeName}.${e.name}`;let d=e.label,c=e.type,p=(a=e.options)==null?void 0:a.jstype;if(d===3){let g=c==11?o?.get(H(e.typeName)):void 0;if(g){l.fieldKind="map";let{key:f,value:b}=function(y){let h=y.fields.find(v=>v.number===1),E=y.fields.find(v=>v.number===2);return J(h&&h.fieldKind=="scalar"&&h.scalar!=m.BYTES&&h.scalar!=m.FLOAT&&h.scalar!=m.DOUBLE&&E&&E.fieldKind!="list"&&E.fieldKind!="map"),{key:h,value:E}}(g);return l.mapKey=f.scalar,l.mapKind=b.fieldKind,l.message=b.message,l.delimitedEncoding=!1,l.enum=b.enum,l.scalar=b.scalar,l}switch(l.fieldKind="list",c){case 11:case 10:l.listKind="message",l.message=n.getMessage(H(e.typeName)),J(l.message),l.delimitedEncoding=nr(e,t);break;case 14:l.listKind="enum",l.enum=n.getEnum(H(e.typeName)),J(l.enum);break;default:l.listKind="scalar",l.scalar=c,l.longAsString=p==1}return l.packed=function(f,b){if(f.label!=3)return!1;switch(f.type){case 9:case 12:case 10:case 11:return!1}let y=f.options;return y&&ye(y,"packed")?y.packed:ce("repeatedFieldEncoding",{proto:f,parent:b})==1}(e,t),l}switch(c){case 11:case 10:l.fieldKind="message",l.message=n.getMessage(H(e.typeName)),J(l.message,`invalid FieldDescriptorProto: type_name ${e.typeName} not found`),l.delimitedEncoding=nr(e,t),l.getDefaultValue=()=>{};break;case 14:{let g=n.getEnum(H(e.typeName));J(g!==void 0,`invalid FieldDescriptorProto: type_name ${e.typeName} not found`),l.fieldKind="enum",l.enum=n.getEnum(H(e.typeName)),l.getDefaultValue=()=>ye(e,"defaultValue")?function(f,b){let y=f.values.find(h=>h.name===b);if(!y)throw Error(`cannot parse ${f} default value: ${b}`);return y.number}(g,e.defaultValue):void 0;break}default:l.fieldKind="scalar",l.scalar=c,l.longAsString=p==1,l.getDefaultValue=()=>ye(e,"defaultValue")?function(g,f){switch(g){case m.STRING:return f;case m.BYTES:{let b=function(y){let h=[],E={tail:y,c:"",next(){return this.tail.length!=0&&(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(v){if(this.tail.length>=v){let N=this.tail.substring(0,v);return this.tail=this.tail.substring(v),N}return!1}};for(;E.next();)if(E.c==="\\"){if(E.next())switch(E.c){case"\\":h.push(E.c.charCodeAt(0));break;case"b":h.push(8);break;case"f":h.push(12);break;case"n":h.push(10);break;case"r":h.push(13);break;case"t":h.push(9);break;case"v":h.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let v=E.c,N=E.take(2);if(N===!1)return!1;let I=parseInt(v+N,8);if(Number.isNaN(I))return!1;h.push(I);break}case"x":{let v=E.c,N=E.take(2);if(N===!1)return!1;let I=parseInt(v+N,16);if(Number.isNaN(I))return!1;h.push(I);break}case"u":{let v=E.c,N=E.take(4);if(N===!1)return!1;let I=parseInt(v+N,16);if(Number.isNaN(I))return!1;let T=new Uint8Array(4);new DataView(T.buffer).setInt32(0,I,!0),h.push(T[0],T[1],T[2],T[3]);break}case"U":{let v=E.c,N=E.take(8);if(N===!1)return!1;let I=C.uEnc(v+N),T=new Uint8Array(8),_=new DataView(T.buffer);_.setInt32(0,I.lo,!0),_.setInt32(4,I.hi,!0),h.push(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7])}}}else h.push(E.c.charCodeAt(0));return new Uint8Array(h)}(f);if(b===!1)throw Error(`cannot parse ${m[g]} default value: ${f}`);return b}case m.INT64:case m.SFIXED64:case m.SINT64:return C.parse(f);case m.UINT64:case m.FIXED64:return C.uParse(f);case m.DOUBLE:case m.FLOAT:switch(f){case"inf":return 1/0;case"-inf":return-1/0;case"nan":return NaN;default:return parseFloat(f)}case m.BOOL:return f==="true";case m.INT32:case m.UINT32:case m.SINT32:case m.FIXED32:case m.SFIXED32:return parseInt(f,10)}}(c,e.defaultValue):void 0}return l}function Ce(e,t,n){return t?`${t.typeName}.${e.name}`:n.proto.package.length>0?`${n.proto.package}.${e.name}`:`${e.name}`}function H(e){return e.startsWith(".")?e.substring(1):e}function nr(e,t){return e.type==10||ce("messageEncoding",{proto:e,parent:t})==2}function ce(e,t){var n,r;let o=(n=t.proto.options)==null?void 0:n.features;if(o){let i=o[e];if(i!=0)return i}if("kind"in t){if(t.kind=="message")return ce(e,(r=t.parent)!=null?r:t.file);let i=qn[t.edition];if(!i)throw Error(`feature default for edition ${t.edition} not found`);return i[e]}return ce(e,t.parent)}function J(e,t){if(!e)throw Error(t)}function rr(e){var t,n,r,o,i,s,a,u;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:e.name,field:(n=(t=e.field)==null?void 0:t.map(Oo))!=null?n:[],extension:[],nestedType:(o=(r=e.nestedType)==null?void 0:r.map(rr))!=null?o:[],enumType:(s=(i=e.enumType)==null?void 0:i.map(or))!=null?s:[],extensionRange:(u=(a=e.extensionRange)==null?void 0:a.map(l=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},l)))!=null?u:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function Oo(e){var t,n,r,o;return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},e),{options:e.options?(t=e.options,Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},t),{targets:(n=t.targets)!=null?n:[],editionDefaults:(o=(r=t.editionDefaults)==null?void 0:r.map(i=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},i)))!=null?o:[],uninterpretedOption:[]}))):void 0}))}function or(e){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:e.name,reservedName:[],reservedRange:[],value:e.value.map(t=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},t))})}function Ie(e,t,...n){return n.reduce((r,o)=>r.nestedMessages[o],e.messages[t])}let _o=Ie(function(e){var t;let n=(t=e,Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},t),{messageType:t.messageType.map(rr),enumType:t.enumType.map(or)})));return n.messageType.forEach(At),Qn(n,()=>{}).getFile(n.name)}({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false"},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);function Te(e,t){var n;let r=De(_o,St(e));return r.messageType.forEach(At),r.dependency=(n=t?.map(o=>o.proto.name))!=null?n:[],Qn(r,o=>t?.find(i=>i.proto.name===o)).getFile(r.name)}function ir(e,t,...n){if(n.length>0)throw Error();return e.services[t]}(function(e){e[e.DECLARATION=0]="DECLARATION",e[e.UNVERIFIED=1]="UNVERIFIED"})(tn||(tn={})),function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.GROUP=10]="GROUP",e[e.MESSAGE=11]="MESSAGE",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.ENUM=14]="ENUM",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(nn||(nn={})),function(e){e[e.OPTIONAL=1]="OPTIONAL",e[e.REPEATED=3]="REPEATED",e[e.REQUIRED=2]="REQUIRED"}(rn||(rn={})),function(e){e[e.SPEED=1]="SPEED",e[e.CODE_SIZE=2]="CODE_SIZE",e[e.LITE_RUNTIME=3]="LITE_RUNTIME"}(on||(on={})),function(e){e[e.STRING=0]="STRING",e[e.CORD=1]="CORD",e[e.STRING_PIECE=2]="STRING_PIECE"}(sn||(sn={})),function(e){e[e.JS_NORMAL=0]="JS_NORMAL",e[e.JS_STRING=1]="JS_STRING",e[e.JS_NUMBER=2]="JS_NUMBER"}(an||(an={})),function(e){e[e.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",e[e.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",e[e.RETENTION_SOURCE=2]="RETENTION_SOURCE"}(ln||(ln={})),function(e){e[e.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",e[e.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",e[e.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",e[e.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",e[e.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",e[e.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",e[e.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",e[e.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",e[e.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",e[e.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"}(un||(un={})),function(e){e[e.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",e[e.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",e[e.IDEMPOTENT=2]="IDEMPOTENT"}(Qe||(Qe={})),function(e){e[e.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",e[e.EXPORT_ALL=1]="EXPORT_ALL",e[e.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",e[e.LOCAL_ALL=3]="LOCAL_ALL",e[e.STRICT=4]="STRICT"}(cn||(cn={})),function(e){e[e.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",e[e.EXPLICIT=1]="EXPLICIT",e[e.IMPLICIT=2]="IMPLICIT",e[e.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"}(dn||(dn={})),function(e){e[e.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",e[e.OPEN=1]="OPEN",e[e.CLOSED=2]="CLOSED"}(mn||(mn={})),function(e){e[e.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",e[e.PACKED=1]="PACKED",e[e.EXPANDED=2]="EXPANDED"}(fn||(fn={})),function(e){e[e.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",e[e.VERIFY=2]="VERIFY",e[e.NONE=3]="NONE"}(pn||(pn={})),function(e){e[e.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",e[e.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",e[e.DELIMITED=2]="DELIMITED"}(gn||(gn={})),function(e){e[e.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",e[e.ALLOW=1]="ALLOW",e[e.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"}(hn||(hn={})),function(e){e[e.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",e[e.STYLE2024=1]="STYLE2024",e[e.STYLE_LEGACY=2]="STYLE_LEGACY"}(yn||(yn={})),function(e){e[e.NONE=0]="NONE",e[e.SET=1]="SET",e[e.ALIAS=2]="ALIAS"}(bn||(bn={})),function(e){e[e.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",e[e.EDITION_LEGACY=900]="EDITION_LEGACY",e[e.EDITION_PROTO2=998]="EDITION_PROTO2",e[e.EDITION_PROTO3=999]="EDITION_PROTO3",e[e.EDITION_2023=1e3]="EDITION_2023",e[e.EDITION_2024=1001]="EDITION_2024",e[e.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",e[e.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",e[e.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",e[e.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",e[e.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",e[e.EDITION_MAX=2147483647]="EDITION_MAX"}(En||(En={})),function(e){e[e.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",e[e.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",e[e.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"}(vn||(vn={}));let Ro=Te("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),xo=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,sr=e=>{if(typeof e!="string")throw TypeError("Invalid argument expected string");let t=e.match(xo);if(!t)throw Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},ar=e=>e==="*"||e==="x"||e==="X",lr=e=>{let t=parseInt(e,10);return isNaN(t)?e:t},Vo=(e,t)=>{if(ar(e)||ar(t))return 0;let[n,r]=((o,i)=>typeof o!=typeof i?[String(o),String(i)]:[o,i])(lr(e),lr(t));return n>r?1:n<r?-1:0},ur=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){let r=Vo(e[n]||"0",t[n]||"0");if(r!==0)return r}return 0},Le=(e,t)=>{let n=sr(e),r=sr(t),o=n.pop(),i=r.pop(),s=ur(n,r);return s!==0?s:o&&i?ur(o.split("."),i.split(".")):o||i?o?-1:1:0},Uo=Ie(Te("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),0),cr={writeUnknownFields:!0};function dr(e,t,n){return Be(new mt,n?Object.assign(Object.assign({},cr),n):cr,W(e,t)).finish()}function Be(e,t,n){var r;for(let o of n.sortedFields){if(!n.isSet(o)){if(o.presence==3)throw Error(`cannot encode ${o} to binary: required field not set`);continue}mr(e,t,n,o)}if(t.writeUnknownFields)for(let{no:o,wireType:i,data:s}of(r=n.getUnknown())!=null?r:[])e.tag(o,i).raw(s);return e}function mr(e,t,n,r){var o;switch(r.fieldKind){case"scalar":case"enum":Ge(e,n.desc.typeName,r.name,(o=r.scalar)!=null?o:m.INT32,r.number,n.get(r));break;case"list":(function(i,s,a,u){var l;if(a.listKind=="message"){for(let c of u)fr(i,s,a,c);return}let d=(l=a.scalar)!=null?l:m.INT32;if(a.packed){if(!u.size)return;for(let c of(i.tag(a.number,B.LengthDelimited).fork(),u))pr(i,a.parent.typeName,a.name,d,c);i.join();return}for(let c of u)Ge(i,a.parent.typeName,a.name,d,a.number,c)})(e,t,r,n.get(r));break;case"message":fr(e,t,r,n.get(r));break;case"map":for(let[i,s]of n.get(r))(function(a,u,l,d,c){var p;switch(a.tag(l.number,B.LengthDelimited).fork(),Ge(a,l.parent.typeName,l.name,l.mapKey,1,d),l.mapKind){case"scalar":case"enum":Ge(a,l.parent.typeName,l.name,(p=l.scalar)!=null?p:m.INT32,2,c);break;case"message":Be(a.tag(2,B.LengthDelimited).fork(),u,c).join()}a.join()})(e,t,r,i,s)}}function Ge(e,t,n,r,o,i){pr(e.tag(o,function(s){switch(s){case m.BYTES:case m.STRING:return B.LengthDelimited;case m.DOUBLE:case m.FIXED64:case m.SFIXED64:return B.Bit64;case m.FIXED32:case m.SFIXED32:case m.FLOAT:return B.Bit32;default:return B.Varint}}(r)),t,n,r,i)}function fr(e,t,n,r){n.delimitedEncoding?Be(e.tag(n.number,B.StartGroup),t,r).tag(n.number,B.EndGroup):Be(e.tag(n.number,B.LengthDelimited).fork(),t,r).join()}function pr(e,t,n,r,o){try{switch(r){case m.STRING:e.string(o);break;case m.BOOL:e.bool(o);break;case m.DOUBLE:e.double(o);break;case m.FLOAT:e.float(o);break;case m.INT32:e.int32(o);break;case m.INT64:e.int64(o);break;case m.UINT64:e.uint64(o);break;case m.FIXED64:e.fixed64(o);break;case m.BYTES:e.bytes(o);break;case m.FIXED32:e.fixed32(o);break;case m.SFIXED32:e.sfixed32(o);break;case m.SFIXED64:e.sfixed64(o);break;case m.SINT64:e.sint64(o);break;case m.UINT32:e.uint32(o);break;case m.SINT32:e.sint32(o)}}catch(i){throw i instanceof Error?Error(`cannot encode field ${t}.${n} to binary: ${i.message}`):i}}function gr(e){let t=e.lastIndexOf("/"),n=t>=0?e.substring(t+1):e;if(!n.length)throw Error(`invalid type url: ${e}`);return n}let xt=Te("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),ko=Ie(xt,0),hr=Ie(xt,1),Fo=Ie(xt,2);function Ze(e,t){let n=e.typeName,r=Object.assign(Object.assign({},e),{kind:"field",parent:e.extendee,localName:n}),o=Object.assign(Object.assign({},e.extendee),{fields:[r],members:[r],oneofs:[]}),i=M(o,t!==void 0?{[n]:t}:void 0);return[W(o,i),r,()=>{let s=i[n];if(s===void 0){let a=e.message;return be(a)?te(a.fields[0].scalar,a.fields[0].longAsString):M(a)}return s}]}function yr(e,t){if(e.extendee.typeName!=t.$typeName)throw Error(`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(qe||(qe={}));let br={ignoreUnknownFields:!1};function Er(e,t,n){let r=W(e);try{de(r,t,n?Object.assign(Object.assign({},br),n):br)}catch(o){throw o instanceof Error&&bo.includes(o.name)&&"field"in o&&typeof o.field=="function"?Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return r.message}function de(e,t,n){var r;if(function(s,a,u){if(!s.desc.typeName.startsWith("google.protobuf."))return!1;switch(s.desc.typeName){case"google.protobuf.Any":return function(l,d,c){var p,g,f,b,y;if(d===null||Array.isArray(d)||typeof d!="object")throw Error(`cannot decode message ${l.$typeName} from JSON: expected object but got ${Z(d)}`);if(Object.keys(d).length==0)return;let h=d["@type"];if(typeof h!="string"||h=="")throw Error(`cannot decode message ${l.$typeName} from JSON: "@type" is empty`);let E=h.includes("/")?h.substring(h.lastIndexOf("/")+1):h;if(!E.length)throw Error(`cannot decode message ${l.$typeName} from JSON: "@type" is invalid`);let v=(p=c.registry)==null?void 0:p.getMessage(E);if(!v)throw Error(`cannot decode message ${l.$typeName} from JSON: ${h} is not in the type registry`);let N=W(v);if(E.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(d,"value"))de(N,d.value,c);else{let I=Object.assign({},d);delete I["@type"],de(N,I,c)}g=N.desc,f=N.message,(b=l)||(b=M(Uo)),b.value=dr(g,f),b.typeUrl=(y=f.$typeName,`type.googleapis.com/${y}`)}(s.message,a,u),!0;case"google.protobuf.Timestamp":return function(l,d){if(typeof d!="string")throw Error(`cannot decode message ${l.$typeName} from JSON: ${Z(d)}`);let c=d.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!c)throw Error(`cannot decode message ${l.$typeName} from JSON: invalid RFC 3339 string`);let p=Date.parse(c[1]+"-"+c[2]+"-"+c[3]+"T"+c[4]+":"+c[5]+":"+c[6]+(c[8]?c[8]:"Z"));if(Number.isNaN(p))throw Error(`cannot decode message ${l.$typeName} from JSON: invalid RFC 3339 string`);if(p<Date.parse("0001-01-01T00:00:00Z")||p>Date.parse("9999-12-31T23:59:59Z"))throw Error(`cannot decode message ${l.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);l.seconds=C.parse(p/1e3),l.nanos=0,c[7]&&(l.nanos=parseInt("1"+c[7]+"0".repeat(9-c[7].length))-1e9)}(s.message,a),!0;case"google.protobuf.Duration":return function(l,d){if(typeof d!="string")throw Error(`cannot decode message ${l.$typeName} from JSON: ${Z(d)}`);let c=d.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(c===null)throw Error(`cannot decode message ${l.$typeName} from JSON: ${Z(d)}`);let p=Number(c[1]);if(p>315576e6||p<-315576e6)throw Error(`cannot decode message ${l.$typeName} from JSON: ${Z(d)}`);l.seconds=C.parse(p),typeof c[2]=="string"&&(l.nanos=parseInt(c[2]+"0".repeat(9-c[2].length)),(p<0||Object.is(p,-0))&&(l.nanos=-l.nanos))}(s.message,a),!0;case"google.protobuf.FieldMask":return function(l,d){if(typeof d!="string")throw Error(`cannot decode message ${l.$typeName} from JSON: ${Z(d)}`);d!==""&&(l.paths=d.split(",").map(function(c){if(c.includes("_"))throw Error(`cannot decode message ${l.$typeName} from JSON: path names must be lowerCamelCase`);let p=c.replace(/[A-Z]/g,g=>"_"+g.toLowerCase());return p[0]==="_"?p.substring(1):p}))}(s.message,a),!0;case"google.protobuf.Struct":return wr(s.message,a),!0;case"google.protobuf.Value":return Ut(s.message,a),!0;case"google.protobuf.ListValue":return Ir(s.message,a),!0;default:if(be(s.desc)){let l=s.desc.fields[0];return a===null?s.clear(l):s.set(l,je(l,a,!0)),!0}return!1}}(e,t,n))return;if(t==null||Array.isArray(t)||typeof t!="object")throw Error(`cannot decode ${e.desc} from JSON: ${Z(t)}`);let o=new Map,i=new Map;for(let s of e.desc.fields)i.set(s.name,s).set(s.jsonName,s);for(let[s,a]of Object.entries(t)){let u=i.get(s);if(u){if(u.oneof){if(a===null&&u.fieldKind=="scalar")continue;let l=o.get(u.oneof);if(l!==void 0)throw new $(u.oneof,`oneof set multiple times by ${l.name} and ${u.name}`);o.set(u.oneof,u)}vr(e,u,a,n)}else{let l;if(s.startsWith("[")&&s.endsWith("]")&&(l=(r=n.registry)==null?void 0:r.getExtension(s.substring(1,s.length-1)))&&l.extendee.typeName===e.desc.typeName){let[d,c,p]=Ze(l);vr(d,c,a,n),function(g,f,b){var y;yr(f,g);let h=((y=g.$unknown)!=null?y:[]).filter(T=>T.no!==f.number),[E,v]=Ze(f,b),N=new mt;mr(N,{writeUnknownFields:!0},E,v);let I=new ft(N.finish());for(;I.pos<I.len;){let[T,_]=I.tag(),R=I.skip(_,T);h.push({no:T,wireType:_,data:R})}g.$unknown=h}(e.message,l,p())}if(!l&&!n.ignoreUnknownFields)throw Error(`cannot decode ${e.desc} from JSON: key "${s}" is unknown`)}}}function vr(e,t,n,r){switch(t.fieldKind){case"scalar":var o=e,i=t,s=n;let c=je(i,s,!1);c===Xe?o.clear(i):o.set(i,c);break;case"enum":var a=e,u=t,l=n,d=r;let p=Vt(u.enum,l,d.ignoreUnknownFields,!1);p===Xe?a.clear(u):p!==Ye&&a.set(u,p);break;case"message":(function(g,f,b,y){if(b===null&&f.message.typeName!="google.protobuf.Value")return g.clear(f);let h=g.isSet(f)?g.get(f):W(f.message);de(h,b,y),g.set(f,h)})(e,t,n,r);break;case"list":(function(g,f,b){if(f===null)return;let y=g.field();if(!Array.isArray(f))throw new $(y,"expected Array, got "+Z(f));for(let h of f){if(h===null)throw new $(y,"list item must not be null");switch(y.listKind){case"message":let E=W(y.message);de(E,h,b),g.add(E);break;case"enum":let v=Vt(y.enum,h,b.ignoreUnknownFields,!0);v!==Ye&&g.add(v);break;case"scalar":g.add(je(y,h,!0))}}})(e.get(t),n,r);break;case"map":(function(g,f,b){if(f===null)return;let y=g.field();if(typeof f!="object"||Array.isArray(f))throw new $(y,"expected object, got "+Z(f));for(let[h,E]of Object.entries(f)){let v;if(E===null)throw new $(y,"map value must not be null");switch(y.mapKind){case"message":let I=W(y.message);de(I,E,b),v=I;break;case"enum":if((v=Vt(y.enum,E,b.ignoreUnknownFields,!0))===Ye)return;break;case"scalar":v=je(y,E,!0)}let N=function(I,T){switch(I){case m.BOOL:switch(T){case"true":return!0;case"false":return!1}return T;case m.INT32:case m.FIXED32:case m.UINT32:case m.SFIXED32:case m.SINT32:return Nr(T);default:return T}}(y.mapKey,h);g.set(N,v)}})(e.get(t),n,r)}}let Ye=Symbol();function Vt(e,t,n,r){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:r?e.values[0].number:Xe;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":let o=e.values.find(i=>i.name===t);if(o!==void 0)return o.number;if(n)return Ye}throw Error(`cannot decode ${e} from JSON: ${Z(t)}`)}let Xe=Symbol();function je(e,t,n){if(t===null)return n?te(e.scalar,!1):Xe;switch(e.scalar){case m.DOUBLE:case m.FLOAT:if(t==="NaN")return NaN;if(t==="Infinity")return 1/0;if(t==="-Infinity")return-1/0;if(typeof t=="number"){if(Number.isNaN(t))throw new $(e,"unexpected NaN number");if(!Number.isFinite(t))throw new $(e,"unexpected infinite number");break}if(typeof t=="string"){if(t===""||t.trim().length!==t.length)break;let r=Number(t);if(!Number.isFinite(r))break;return r}break;case m.INT32:case m.FIXED32:case m.SFIXED32:case m.SINT32:case m.UINT32:return Nr(t);case m.BYTES:if(typeof t=="string"){if(t==="")return new Uint8Array(0);try{return St(t)}catch(r){throw new $(e,r instanceof Error?r.message:String(r))}}}return t}function Nr(e){if(typeof e=="string"){if(e===""||e.trim().length!==e.length)return e;let t=Number(e);return Number.isNaN(t)?e:t}return e}function wr(e,t){if(typeof t!="object"||t==null||Array.isArray(t))throw Error(`cannot decode message ${e.$typeName} from JSON ${Z(t)}`);for(let[n,r]of Object.entries(t)){let o=M(hr);Ut(o,r),e.fields[n]=o}}function Ut(e,t){switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(t===null)e.kind={case:"nullValue",value:qe.NULL_VALUE};else if(Array.isArray(t)){let n=M(Fo);Ir(n,t),e.kind={case:"listValue",value:n}}else{let n=M(ko);wr(n,t),e.kind={case:"structValue",value:n}}break;default:throw Error(`cannot decode message ${e.$typeName} from JSON ${Z(t)}`)}return e}function Ir(e,t){if(!Array.isArray(t))throw Error(`cannot decode message ${e.$typeName} from JSON ${Z(t)}`);for(let n of t){let r=M(hr);Ut(r,n),e.values.push(r)}}function Tr(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}let Sr={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function Se(e,t){var n,r;let o=function(s,a){if(s.desc.typeName.startsWith("google.protobuf."))switch(s.desc.typeName){case"google.protobuf.Any":return function(c,p){let g,f;if(c.typeUrl==="")return{};let{registry:b}=p;if(b&&(g=function(h,E){var v,N;if(h.typeUrl==="")return;let I=E.kind=="message"?E:E.getMessage(gr(h.typeUrl));if(I&&(v=h,N=I,v.typeUrl!==""&&(typeof N=="string"?N:N.typeName)===gr(v.typeUrl)))return De(I,h.value)}(c,b))&&(f=b.getMessage(g.$typeName)),!f||!g)throw Error(`cannot encode message ${c.$typeName} to JSON: "${c.typeUrl}" is not in the type registry`);let y=Se(W(f,g),p);return(f.typeName.startsWith("google.protobuf.")||y===null||Array.isArray(y)||typeof y!="object")&&(y={value:y}),y["@type"]=c.typeUrl,y}(s.message,a);case"google.protobuf.Timestamp":return function(c){let p=1e3*Number(c.seconds);if(p<Date.parse("0001-01-01T00:00:00Z")||p>Date.parse("9999-12-31T23:59:59Z"))throw Error(`cannot encode message ${c.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(c.nanos<0)throw Error(`cannot encode message ${c.$typeName} to JSON: nanos must not be negative`);let g="Z";if(c.nanos>0){let f=(c.nanos+1e9).toString().substring(1);g=f.substring(3)==="000000"?"."+f.substring(0,3)+"Z":f.substring(6)==="000"?"."+f.substring(0,6)+"Z":"."+f+"Z"}return new Date(p).toISOString().replace(".000Z",g)}(s.message);case"google.protobuf.Duration":var u,l=s.message;if(Number(l.seconds)>315576e6||-315576e6>Number(l.seconds))throw Error(`cannot encode message ${l.$typeName} to JSON: value out of range`);let d=l.seconds.toString();if(l.nanos!==0){let c=Math.abs(l.nanos).toString();(c="0".repeat(9-c.length)+c).substring(3)==="000000"?c=c.substring(0,3):c.substring(6)==="000"&&(c=c.substring(0,6)),d+="."+c,l.nanos<0&&Number(l.seconds)==0&&(d="-"+d)}return d+"s";case"google.protobuf.FieldMask":return(u=s.message).paths.map(c=>{if(c.match(/_[0-9]?_/g)||c.match(/[A-Z]/g))throw Error(`cannot encode message ${u.$typeName} to JSON: lowerCamelCase of path name "`+c+'" is irreversible');return Ne(c)}).join(",");case"google.protobuf.Struct":return Or(s.message);case"google.protobuf.Value":return Ft(s.message);case"google.protobuf.ListValue":return _r(s.message);default:if(be(s.desc)){let c=s.desc.fields[0];return Pe(c,s.get(c))}return}}(e,t);if(o!==void 0)return o;let i={};for(let s of e.sortedFields){if(!e.isSet(s)){if(s.presence==3)throw Error(`cannot encode ${s} to JSON: required field not set`);if(!t.alwaysEmitImplicit||s.presence!==2)continue}let a=Ar(s,e.get(s),t);a!==void 0&&(i[r=s,t.useProtoFieldName?r.name:r.jsonName]=a)}if(t.registry){let s=new Set;for(let{no:a}of(n=e.getUnknown())!=null?n:[])if(!s.has(a)){s.add(a);let u=t.registry.getExtensionFor(e.desc,a);if(!u)continue;let l=function(g,f){yr(f,g);let b=function(v,N){if(v===void 0)return[];if(N.fieldKind==="enum"||N.fieldKind==="scalar"){for(let I=v.length-1;I>=0;--I)if(v[I].no==N.number)return[v[I]];return[]}return v.filter(I=>I.no===N.number)}(g.$unknown,f),[y,h,E]=Ze(f);for(let v of b)Mn(y,new ft(v.data),h,v.wireType,{readUnknownFields:!0});return E()}(e.message,u),[d,c]=Ze(u,l),p=Ar(c,d.get(c),t);p!==void 0&&(i[u.jsonName]=p)}}return i}function Ar(e,t,n){switch(e.fieldKind){case"scalar":return Pe(e,t);case"message":return Se(t,n);case"enum":return kt(e.enum,t,n.enumAsInteger);case"list":var r=t,o=n;let a=r.field(),u=[];switch(a.listKind){case"scalar":for(let c of r)u.push(Pe(a,c));break;case"enum":for(let c of r)u.push(kt(a.enum,c,o.enumAsInteger));break;case"message":for(let c of r)u.push(Se(c,o))}return o.alwaysEmitImplicit||u.length>0?u:void 0;case"map":var i=t,s=n;let l=i.field(),d={};switch(l.mapKind){case"scalar":for(let[c,p]of i)d[c]=Pe(l,p);break;case"message":for(let[c,p]of i)d[c]=Se(p,s);break;case"enum":for(let[c,p]of i)d[c]=kt(l.enum,p,s.enumAsInteger)}return s.alwaysEmitImplicit||i.size>0?d:void 0}}function kt(e,t,n){var r;if(typeof t!="number")throw Error(`cannot encode ${e} to JSON: expected number, got ${Z(t)}`);if(e.typeName=="google.protobuf.NullValue")return null;if(n)return t;let o=e.value[t];return(r=o?.name)!=null?r:t}function Pe(e,t){var n,r,o,i,s,a;switch(e.scalar){case m.INT32:case m.SFIXED32:case m.SINT32:case m.FIXED32:case m.UINT32:if(typeof t!="number")throw Error(`cannot encode ${e} to JSON: ${(n=ne(e,t))==null?void 0:n.message}`);return t;case m.FLOAT:case m.DOUBLE:if(typeof t!="number")throw Error(`cannot encode ${e} to JSON: ${(r=ne(e,t))==null?void 0:r.message}`);return Number.isNaN(t)?"NaN":t===1/0?"Infinity":t===-1/0?"-Infinity":t;case m.STRING:if(typeof t!="string")throw Error(`cannot encode ${e} to JSON: ${(o=ne(e,t))==null?void 0:o.message}`);return t;case m.BOOL:if(typeof t!="boolean")throw Error(`cannot encode ${e} to JSON: ${(i=ne(e,t))==null?void 0:i.message}`);return t;case m.UINT64:case m.FIXED64:case m.INT64:case m.SFIXED64:case m.SINT64:if(typeof t!="bigint"&&typeof t!="string")throw Error(`cannot encode ${e} to JSON: ${(s=ne(e,t))==null?void 0:s.message}`);return t.toString();case m.BYTES:if(t instanceof Uint8Array)return zn(t);throw Error(`cannot encode ${e} to JSON: ${(a=ne(e,t))==null?void 0:a.message}`)}}function Or(e){let t={};for(let[n,r]of Object.entries(e.fields))t[n]=Ft(r);return t}function Ft(e){switch(e.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(e.kind.value))throw Error(`${e.$typeName} cannot be NaN or Infinity`);return e.kind.value;case"boolValue":case"stringValue":return e.kind.value;case"structValue":return Or(e.kind.value);case"listValue":return _r(e.kind.value);default:throw Error(`${e.$typeName} must have a value`)}}function _r(e){return e.values.map(Ft)}function Rr(e){let t=Object.assign({},e);return t.ignoreUnknownFields!=null||(t.ignoreUnknownFields=!0),t}function xr(e,t,n,r){let o=t?Vr(e.input,r):Ur(e.input,n);return{parse:(t?Vr(e.output,r):Ur(e.output,n)).parse,serialize:o.serialize}}function Vr(e,t){return{parse(n){try{return De(e,n,t)}catch(r){let o=r instanceof Error?r.message:String(r);throw new F(`parse binary: ${o}`,O.Internal)}},serialize(n){try{return dr(e,n,t)}catch(r){let o=r instanceof Error?r.message:String(r);throw new F(`serialize binary: ${o}`,O.Internal)}}}}function Ur(e,t){var n,r;let o=(n=t?.textEncoder)!=null?n:new TextEncoder,i=(r=t?.textDecoder)!=null?r:new TextDecoder,s=Rr(t);return{parse(a){try{let u=i.decode(a);return Er(e,function(l,d){try{return JSON.parse(l)}catch(c){let p=c instanceof Error?c.message:String(c);throw Error(`cannot decode message ${d} from JSON: ${p}`,{cause:c})}}(u,e.typeName),s)}catch(u){throw F.from(u,O.InvalidArgument)}},serialize(a){try{var u;let l=JSON.stringify(Se(W(e,a),s?Object.assign(Object.assign({},Sr),s):Sr),null,(u=s?.prettySpaces)!=null?u:0);return o.encode(l)}catch(l){throw F.from(l,O.Internal)}}}}function kr(e,t){var n;return(n=t?.concat().reverse().reduce((r,o)=>o(r),e))!=null?n:e}function Fr(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;let t=Error("This operation was aborted");return t.name="AbortError",t}function Dr(e){let{signal:t,cleanup:n}=function(o){let i,s=new AbortController,a=()=>{s.abort(new F("the operation timed out",O.DeadlineExceeded))};return o!==void 0&&(o<=0?a():i=setTimeout(a,o)),{signal:s.signal,cleanup:()=>clearTimeout(i)}}(e.timeoutMs),r=function(...o){let i=new AbortController,s=o.filter(u=>u!==void 0).concat(i.signal);for(let u of s){if(u.aborted){a.apply(u);break}u.addEventListener("abort",a)}function a(){for(let u of(i.signal.aborted||i.abort(Fr(this)),s))u.removeEventListener("abort",a)}return i}(e.signal,t);return[r.signal,function(o){let i=F.from(t.aborted?Fr(t):o);return r.abort(i),n(),Promise.reject(i)},function(){n(),r.abort()}]}function Cr(e,t){return e.toString().replace(/\/?$/,`/${t.parent.typeName}/${t.name}`)}let Ke="Content-Type",Lr="Content-Encoding",Br="Connect-Protocol-Version",Gr="User-Agent",Do=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i;function Zr(e,t,n,r,o){let i=new Headers(r??{});return n!==void 0&&i.set("Connect-Timeout-Ms",`${n}`),i.set(Ke,e=="unary"?t?"application/proto":"application/json":t?"application/connect+proto":"application/connect+json"),i.set(Br,"1"),!i.has(Gr)&&o&&i.set(Gr,"connect-es/2.0.0-rc.3"),i}let Yr="application/";function Xr(e,t,n,r){let o=r.get(Ke),i=function(a){let u=a?.match(Do);if(u)return{stream:!!u[1],binary:!!u[3]}}(o);if(n!==200){let a=new F(`HTTP ${n}`,function(u){switch(u){case 400:return O.Internal;case 401:return O.Unauthenticated;case 403:return O.PermissionDenied;case 404:return O.Unimplemented;case 429:case 502:case 503:case 504:return O.Unavailable;default:return O.Unknown}}(n),r);if(e=="unary"&&i&&!i.binary)return{isUnaryError:!0,unaryError:a};throw a}let s={binary:t,stream:e!=="unary"};if(i?.binary!==s.binary||i.stream!==s.stream)throw new F(`unsupported content type ${o}`,i===void 0?O.Unknown:O.Internal,r);return{isUnaryError:!1}}function jr(e,t,n){var r;if(t&&new Headers(t).forEach((a,u)=>n.metadata.append(u,a)),typeof e!="object"||e==null||Array.isArray(e))throw n;let o=n.code;"code"in e&&typeof e.code=="string"&&(o=(r=function(a){if(!Ve)for(let u of(Ve={},Object.values(O)))typeof u!="string"&&(Ve[It(u)]=u);return Ve[a]}(e.code))!=null?r:o);let i=e.message;if(i!=null&&typeof i!="string")throw n;let s=new F(i??"",o,t);if("details"in e&&Array.isArray(e.details))for(let a of e.details){if(a===null||typeof a!="object"||Array.isArray(a)||typeof a.type!="string"||typeof a.value!="string")throw n;try{s.details.push({type:a.type,value:St(a.value),debug:a.debug})}catch{throw n}}return s}function Pr(e){let t=new Headers,n=new Headers;return e.forEach((r,o)=>{o.toLowerCase().startsWith("trailer-")?n.append(o.substring(8),r):t.append(o,r)}),[t,n]}var Ae=function(e){return this instanceof Ae?(this.v=e,this):new Ae(e)},Co=function(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(c){return function(p){return Promise.resolve(p).then(c,l)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(c,p){o[c]&&(r[c]=function(g){return new Promise(function(f,b){i.push([c,g,f,b])>1||a(c,g)})},p&&(r[c]=p(r[c])))}function a(c,p){try{var g;(g=o[c](p)).value instanceof Ae?Promise.resolve(g.value.v).then(u,l):d(i[0][2],g)}catch(f){d(i[0][3],f)}}function u(c){a("next",c)}function l(c){a("throw",c)}function d(c,p){c(p),i.shift(),i.length&&a(i[0][0],i[0][1])}};let Kr={redirect:"error"};var Lo=ze(5356).Buffer,Bo=Object.defineProperty,Go=Object.defineProperties,Zo=Object.getOwnPropertyDescriptors,$r=Object.getOwnPropertySymbols,Yo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Dt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Mr=(e,t,n)=>t in e?Bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))Yo.call(t,n)&&Mr(e,n,t[n]);if($r)for(var n of $r(t))Xo.call(t,n)&&Mr(e,n,t[n]);return e},re=(e,t)=>Go(e,Zo(t)),jo=(e=>typeof se<"u"?se:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof se<"u"?se:t)[n]}):e)(function(e){if(typeof se<"u")return se.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),oe=function(e,t){this[0]=e,this[1]=t},Ct=(e,t,n)=>{var r=(s,a,u,l)=>{try{var d=n[s](a),c=(a=d.value)instanceof oe,p=d.done;Promise.resolve(c?a[0]:a).then(g=>c?r(s==="return"?s:"next",a[1]?{done:g.done,value:g.value}:g,u,l):u({value:g,done:p})).catch(g=>r("throw",g,u,l))}catch(g){l(g)}},o=s=>i[s]=a=>new Promise((u,l)=>r(s,a,u,l)),i={};return n=n.apply(e,t),i[Dt("asyncIterator")]=()=>i,o("next"),o("throw"),o("return"),i},Oe=(e,t,n)=>(t=e[Dt("asyncIterator")])?t.call(e):(e=e[Dt("iterator")](),t={},(n=(r,o)=>(o=e[r])&&(t[r]=i=>new Promise((s,a,u)=>(u=(i=o.call(e,i)).done,Promise.resolve(i.value).then(l=>s({value:l,done:u}),a)))))("next"),n("return"),t),Wr="1.13.2",{runtime:Lt,version:Po}=function(){var e,t;return P.Bun?{runtime:"bun",version:P.Bun.version}:P.Deno?{runtime:"deno",version:P.Deno.version.deno}:((t=(e=P.process)==null?void 0:e.release)==null?void 0:t.name)==="node"?{runtime:"node",version:et.version||"unknown"}:{runtime:"vercel-edge",version:"unknown"}}(),Ko={browser:typeof window<"u"&&et.name||"unknown",lang:"js",lang_version:Po,package_version:Wr,publisher:"e2b",sdk_runtime:Lt,system:((Nn=et.os)==null?void 0:Nn.family)||"unknown"};function $e(e){return Lt==="deno"?Deno.env.get(e):typeof process>"u"?"":process.env[e]}function Jr(e){return new me(`${e}: This error is likely due to sandbox timeout. You can modify the sandbox timeout by passing 'timeoutMs' when starting the sandbox or calling '.setTimeout' on the sandbox with the desired timeout.`)}var K=class extends Error{constructor(e){super(e),this.name="SandboxError"}},me=class extends K{constructor(e){super(e),this.name="TimeoutError"}},Me=class extends K{constructor(e){super(e),this.name="InvalidArgumentError"}},$o=class extends K{constructor(e){super(e),this.name="NotEnoughSpaceError"}},_e=class extends K{constructor(e){super(e),this.name="NotFoundError"}},We=class extends K{constructor(e){super(e),this.name="AuthenticationError"}},zr=class extends K{constructor(e){super(e),this.name="TemplateError"}},Mo=class extends K{constructor(e){super(e),this.name="RateLimitError"}};function Hr(e){return JSON.parse(JSON.stringify(e))}function Qr(e){return{async onRequest(t){var n;return(n=e.info)==null||n.call(e,`Request ${t.method} ${t.url}`),t},async onResponse(t){var n,r;return t.status>=400?(n=e.error)==null||n.call(e,"Response:",t.status,t.statusText):(r=e.info)==null||r.call(e,"Response:",t.status,t.statusText),t}}}function fe(e){var t,n;if(!e.error)return;if(e.response.status===429)return new Mo("Rate limit exceeded, please try again later.");let r=(n=(t=e.error)==null?void 0:t.message)!=null?n:e.error;return new K(`${e.response.status}: ${r}`)}var pe=class{constructor(e,t={requireAccessToken:!1,requireApiKey:!0}){if(!t?.requireApiKey&&!e.apiKey)throw new We("API key is required, please visit the Team tab at https://e2b.dev/dashboard to get your API key. You can either set the environment variable `E2B_API_KEY` or you can pass it directly to the sandbox like Sandbox.create({ apiKey: 'e2b_...' })");if(t?.requireAccessToken&&!e.accessToken)throw new We("Access token is required, please visit the Personal tab at https://e2b.dev/dashboard to get your access token. You can set the environment variable `E2B_ACCESS_TOKEN` or pass the `accessToken` in options.");this.api=zt({baseUrl:e.apiUrl,headers:L(L(L(L({},Ko),e.apiKey&&{"X-API-KEY":e.apiKey}),e.accessToken&&{Authorization:`Bearer ${e.accessToken}`}),e.headers)}),e.logger&&this.api.use(Qr(e.logger))}},Je="Keepalive-Ping-Interval",Q=class Re{constructor(t){var n;this.apiKey=t?.apiKey||Re.apiKey,this.debug=t?.debug||Re.debug,this.domain=t?.domain||Re.domain,this.accessToken=t?.accessToken||Re.accessToken,this.requestTimeoutMs=(n=t?.requestTimeoutMs)!=null?n:6e4,this.logger=t?.logger,this.headers=t?.headers||{},this.headers["User-Agent"]=`e2b-js-sdk/${Wr}`,this.apiUrl=this.debug?"http://localhost:3000":`https://api.${this.domain}`}static get domain(){return $e("E2B_DOMAIN")||"e2b.app"}static get debug(){return($e("E2B_DEBUG")||"false").toLowerCase()==="true"}static get apiKey(){return $e("E2B_API_KEY")}static get accessToken(){return $e("E2B_ACCESS_TOKEN")}getSignal(t){let n=t??this.requestTimeoutMs;return n?AbortSignal.timeout(n):void 0}},ge="user";async function Wo(e){if(typeof crypto<"u"){let n=new TextEncoder().encode(e);return btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.digest("SHA-256",n))))}let{createHash:t}=jo("node:crypto");return t("sha256").update(e,"utf8").digest().toString("base64")}async function qr({path:e,operation:t,user:n,expirationInSeconds:r,envdAccessToken:o}){let i;if(!o)throw Error("Access token is not set and signature cannot be generated!");let s=r?Math.floor(Date.now()/1e3)+r:null;return i=s===null?`${e}:${t}:${n}:${o}`:`${e}:${t}:${n}:${o}:${s.toString()}`,{signature:"v1_"+(await Wo(i)).replace(/=+$/,""),expiration:s}}async function Bt(e){var t;if(!e.error)return;let n=typeof e.error=="string"?e.error:((t=e.error)==null?void 0:t.message)||await e.response.text();switch(e.response.status){case 400:return new Me(n);case 401:return new We(n);case 404:return new _e(n);case 429:return new K(`${e.response.status}: ${n}: The requests are being rate limited.`);case 502:return Jr(n);case 507:return new $o(n);default:return new K(`${e.response.status}: ${n}`)}}async function Gt(e){var t;let n;try{n=(await e[Symbol.asyncIterator]().next()).value}catch(r){throw r instanceof F&&r.code===O.Unavailable?new _e("Sandbox is probably not running anymore"):r}if(((t=n.event)==null?void 0:t.event.case)!=="start")throw Error("Expected start event");return n.event.event.value.pid}async function Jo(e){var t;let n;try{n=(await e[Symbol.asyncIterator]().next()).value}catch(r){throw r instanceof F&&r.code===O.Unavailable?new _e("Sandbox is probably not running anymore"):r}if(((t=n.event)==null?void 0:t.case)!=="start")throw Error("Expected start event");return n.event.value}var zo=class{constructor(e,t){this.api=zt({baseUrl:e.apiUrl,fetch:e?.fetch,headers:e?.headers}),this.version=t.version,e.logger&&this.api.use(Qr(e.logger))}};function Y(e){if(e instanceof F)switch(e.code){case O.InvalidArgument:return new Me(e.message);case O.Unauthenticated:return new We(e.message);case O.NotFound:return new _e(e.message);case O.Unavailable:return Jr(e.message);case O.Canceled:return new me(`${e.message}: This error is likely due to exceeding 'requestTimeoutMs'. You can pass the request timeout value as an option when making the request.`);case O.DeadlineExceeded:return new me(`${e.message}: This error is likely due to exceeding 'timeoutMs' \u2014 the total time a long running request (like command execution or directory watch) can be active. It can be modified by passing 'timeoutMs' when making the request. Use '0' to disable the timeout.`);default:return new K(`${e.code}: ${e.message}`)}return e}function q(e){return{Authorization:`Basic ${function(n){switch(Lt){case"deno":default:return btoa(n);case"node":case"bun":return Lo.from(n).toString("base64")}}(`${e||ge}:`)}`}}var Ho=ir(Te("ChtmaWxlc3lzdGVtL2ZpbGVzeXN0ZW0ucHJvdG8SCmZpbGVzeXN0ZW0iMgoLTW92ZVJlcXVlc3QSDgoGc291cmNlGAEgASgJEhMKC2Rlc3RpbmF0aW9uGAIgASgJIjQKDE1vdmVSZXNwb25zZRIkCgVlbnRyeRgBIAEoCzIVLmZpbGVzeXN0ZW0uRW50cnlJbmZvIh4KDk1ha2VEaXJSZXF1ZXN0EgwKBHBhdGgYASABKAkiNwoPTWFrZURpclJlc3BvbnNlEiQKBWVudHJ5GAEgASgLMhUuZmlsZXN5c3RlbS5FbnRyeUluZm8iHQoNUmVtb3ZlUmVxdWVzdBIMCgRwYXRoGAEgASgJIhAKDlJlbW92ZVJlc3BvbnNlIhsKC1N0YXRSZXF1ZXN0EgwKBHBhdGgYASABKAkiNAoMU3RhdFJlc3BvbnNlEiQKBWVudHJ5GAEgASgLMhUuZmlsZXN5c3RlbS5FbnRyeUluZm8i/QEKCUVudHJ5SW5mbxIMCgRuYW1lGAEgASgJEiIKBHR5cGUYAiABKA4yFC5maWxlc3lzdGVtLkZpbGVUeXBlEgwKBHBhdGgYAyABKAkSDAoEc2l6ZRgEIAEoAxIMCgRtb2RlGAUgASgNEhMKC3Blcm1pc3Npb25zGAYgASgJEg0KBW93bmVyGAcgASgJEg0KBWdyb3VwGAggASgJEjEKDW1vZGlmaWVkX3RpbWUYCSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEhsKDnN5bWxpbmtfdGFyZ2V0GAogASgJSACIAQFCEQoPX3N5bWxpbmtfdGFyZ2V0Ii0KDkxpc3REaXJSZXF1ZXN0EgwKBHBhdGgYASABKAkSDQoFZGVwdGgYAiABKA0iOQoPTGlzdERpclJlc3BvbnNlEiYKB2VudHJpZXMYASADKAsyFS5maWxlc3lzdGVtLkVudHJ5SW5mbyIyCg9XYXRjaERpclJlcXVlc3QSDAoEcGF0aBgBIAEoCRIRCglyZWN1cnNpdmUYAiABKAgiRAoPRmlsZXN5c3RlbUV2ZW50EgwKBG5hbWUYASABKAkSIwoEdHlwZRgCIAEoDjIVLmZpbGVzeXN0ZW0uRXZlbnRUeXBlIuABChBXYXRjaERpclJlc3BvbnNlEjgKBXN0YXJ0GAEgASgLMicuZmlsZXN5c3RlbS5XYXRjaERpclJlc3BvbnNlLlN0YXJ0RXZlbnRIABIxCgpmaWxlc3lzdGVtGAIgASgLMhsuZmlsZXN5c3RlbS5GaWxlc3lzdGVtRXZlbnRIABI7CglrZWVwYWxpdmUYAyABKAsyJi5maWxlc3lzdGVtLldhdGNoRGlyUmVzcG9uc2UuS2VlcEFsaXZlSAAaDAoKU3RhcnRFdmVudBoLCglLZWVwQWxpdmVCBwoFZXZlbnQiNwoUQ3JlYXRlV2F0Y2hlclJlcXVlc3QSDAoEcGF0aBgBIAEoCRIRCglyZWN1cnNpdmUYAiABKAgiKwoVQ3JlYXRlV2F0Y2hlclJlc3BvbnNlEhIKCndhdGNoZXJfaWQYASABKAkiLQoXR2V0V2F0Y2hlckV2ZW50c1JlcXVlc3QSEgoKd2F0Y2hlcl9pZBgBIAEoCSJHChhHZXRXYXRjaGVyRXZlbnRzUmVzcG9uc2USKwoGZXZlbnRzGAEgAygLMhsuZmlsZXN5c3RlbS5GaWxlc3lzdGVtRXZlbnQiKgoUUmVtb3ZlV2F0Y2hlclJlcXVlc3QSEgoKd2F0Y2hlcl9pZBgBIAEoCSIXChVSZW1vdmVXYXRjaGVyUmVzcG9uc2UqUgoIRmlsZVR5cGUSGQoVRklMRV9UWVBFX1VOU1BFQ0lGSUVEEAASEgoORklMRV9UWVBFX0ZJTEUQARIXChNGSUxFX1RZUEVfRElSRUNUT1JZEAIqmAEKCUV2ZW50VHlwZRIaChZFVkVOVF9UWVBFX1VOU1BFQ0lGSUVEEAASFQoRRVZFTlRfVFlQRV9DUkVBVEUQARIUChBFVkVOVF9UWVBFX1dSSVRFEAISFQoRRVZFTlRfVFlQRV9SRU1PVkUQAxIVChFFVkVOVF9UWVBFX1JFTkFNRRAEEhQKEEVWRU5UX1RZUEVfQ0hNT0QQBTKfBQoKRmlsZXN5c3RlbRI5CgRTdGF0EhcuZmlsZXN5c3RlbS5TdGF0UmVxdWVzdBoYLmZpbGVzeXN0ZW0uU3RhdFJlc3BvbnNlEkIKB01ha2VEaXISGi5maWxlc3lzdGVtLk1ha2VEaXJSZXF1ZXN0GhsuZmlsZXN5c3RlbS5NYWtlRGlyUmVzcG9uc2USOQoETW92ZRIXLmZpbGVzeXN0ZW0uTW92ZVJlcXVlc3QaGC5maWxlc3lzdGVtLk1vdmVSZXNwb25zZRJCCgdMaXN0RGlyEhouZmlsZXN5c3RlbS5MaXN0RGlyUmVxdWVzdBobLmZpbGVzeXN0ZW0uTGlzdERpclJlc3BvbnNlEj8KBlJlbW92ZRIZLmZpbGVzeXN0ZW0uUmVtb3ZlUmVxdWVzdBoaLmZpbGVzeXN0ZW0uUmVtb3ZlUmVzcG9uc2USRwoIV2F0Y2hEaXISGy5maWxlc3lzdGVtLldhdGNoRGlyUmVxdWVzdBocLmZpbGVzeXN0ZW0uV2F0Y2hEaXJSZXNwb25zZTABElQKDUNyZWF0ZVdhdGNoZXISIC5maWxlc3lzdGVtLkNyZWF0ZVdhdGNoZXJSZXF1ZXN0GiEuZmlsZXN5c3RlbS5DcmVhdGVXYXRjaGVyUmVzcG9uc2USXQoQR2V0V2F0Y2hlckV2ZW50cxIjLmZpbGVzeXN0ZW0uR2V0V2F0Y2hlckV2ZW50c1JlcXVlc3QaJC5maWxlc3lzdGVtLkdldFdhdGNoZXJFdmVudHNSZXNwb25zZRJUCg1SZW1vdmVXYXRjaGVyEiAuZmlsZXN5c3RlbS5SZW1vdmVXYXRjaGVyUmVxdWVzdBohLmZpbGVzeXN0ZW0uUmVtb3ZlV2F0Y2hlclJlc3BvbnNlQmkKDmNvbS5maWxlc3lzdGVtQg9GaWxlc3lzdGVtUHJvdG9QAaICA0ZYWKoCCkZpbGVzeXN0ZW3KAgpGaWxlc3lzdGVt4gIWRmlsZXN5c3RlbVxHUEJNZXRhZGF0YeoCCkZpbGVzeXN0ZW1iBnByb3RvMw",[Ro]),0),Qo=(e=>(e.CHMOD="chmod",e.CREATE="create",e.REMOVE="remove",e.RENAME="rename",e.WRITE="write",e))(Qo||{}),qo=class{constructor(e,t,n,r){this.handleStop=e,this.events=t,this.onEvent=n,this.onExit=r,this.handleEvents()}async stop(){this.handleStop()}iterateEvents(){return Ct(this,null,function*(){try{try{for(var e,t,n,r=Oe(this.events);e=!(t=yield new oe(r.next())).done;e=!1){let o=t.value;o.event.case==="filesystem"&&(yield o.event)}}catch(o){n=[o]}finally{try{e&&(t=r.return)&&(yield new oe(t.call(r)))}finally{if(n)throw n[0]}}}catch(o){throw Y(o)}})}async handleEvents(){var e,t,n;try{try{for(var r,o,i,s=Oe(this.iterateEvents());r=!(o=await s.next()).done;r=!1){let a=o.value,u=function(l){switch(l){case 5:return"chmod";case 1:return"create";case 3:return"remove";case 4:return"rename";case 2:return"write"}}(a.value.type);u!==void 0&&((e=this.onEvent)==null||e.call(this,{name:a.value.name,type:u}))}}catch(a){i=[a]}finally{try{r&&(o=s.return)&&await o.call(s)}finally{if(i)throw i[0]}}(t=this.onExit)==null||t.call(this)}catch(a){(n=this.onExit)==null||n.call(this,a)}}},ei=(e=>(e.FILE="file",e.DIR="dir",e))(ei||{});function Zt(e){switch(e){case 2:return"dir";case 1:return"file"}}function Yt(e){if(e)return new Date(1e3*Number(e.seconds)+Math.floor(e.nanos/1e6))}var ti=class{constructor(e,t,n){this.envdApi=t,this.connectionConfig=n,this.defaultWatchTimeout=6e4,this.defaultWatchRecursive=!1,this.rpc=Tt(Ho,e)}async read(e,t){var n;let r=(n=t?.format)!=null?n:"text",o=await this.envdApi.api.GET("/files",{params:{query:{path:e,username:t?.user||ge}},parseAs:r==="bytes"?"arrayBuffer":r,signal:this.connectionConfig.getSignal(t?.requestTimeoutMs)}),i=await Bt(o);if(i)throw i;return r==="bytes"?new Uint8Array(o.data):o.response.headers.get("content-length")==="0"?"":o.data}async write(e,t,n){if(typeof e!="string"&&!Array.isArray(e))throw Error("Path or files are required");if(typeof e=="string"&&Array.isArray(t))throw Error("Cannot specify both path and array of files. You have to specify either path and data for a single file or an array for multiple files.");let{path:r,writeOpts:o,writeFiles:i}=typeof e=="string"?{path:e,writeOpts:n,writeFiles:[{data:t}]}:{path:void 0,writeOpts:t,writeFiles:e};if(i.length===0)return[];let s=await Promise.all(i.map(d=>new Response(d.data).blob())),a=await this.envdApi.api.POST("/files",{params:{query:{path:r,username:o?.user||ge}},bodySerializer:()=>s.reduce((d,c,p)=>(d.append("file",c,i[p].path),d),new FormData),body:{},headers:{"Content-Type":"multipart/form-data","Bun-Content-Type":"temporary-fix"}}),u=await Bt(a);if(u)throw u;let l=a.data;if(!l)throw Error("Expected to receive information about written file");return l.length===1&&r?l[0]:l}async list(e,t){var n;if(typeof t?.depth=="number"&&t.depth<1)throw new Me("depth should be at least one");try{let r=await this.rpc.listDir({path:e,depth:(n=t?.depth)!=null?n:1},{headers:q(t?.user),signal:this.connectionConfig.getSignal(t?.requestTimeoutMs)}),o=[];for(let i of r.entries){let s=Zt(i.type);s&&o.push({name:i.name,type:s,path:i.path,size:Number(i.size),mode:i.mode,permissions:i.permissions,owner:i.owner,group:i.group,modifiedTime:Yt(i.modifiedTime),symlinkTarget:i.symlinkTarget})}return o}catch(r){throw Y(r)}}async makeDir(e,t){try{return await this.rpc.makeDir({path:e},{headers:q(t?.user),signal:this.connectionConfig.getSignal(t?.requestTimeoutMs)}),!0}catch(n){if(n instanceof F&&n.code===O.AlreadyExists)return!1;throw Y(n)}}async rename(e,t,n){try{let r=(await this.rpc.move({source:e,destination:t},{headers:q(n?.user),signal:this.connectionConfig.getSignal(n?.requestTimeoutMs)})).entry;if(!r)throw Error("Expected to receive information about moved object");return{name:r.name,type:Zt(r.type),path:r.path,size:Number(r.size),mode:r.mode,permissions:r.permissions,owner:r.owner,group:r.group,modifiedTime:Yt(r.modifiedTime),symlinkTarget:r.symlinkTarget}}catch(r){throw Y(r)}}async remove(e,t){try{await this.rpc.remove({path:e},{headers:q(t?.user),signal:this.connectionConfig.getSignal(t?.requestTimeoutMs)})}catch(n){throw Y(n)}}async exists(e,t){try{return await this.rpc.stat({path:e},{headers:q(t?.user),signal:this.connectionConfig.getSignal(t?.requestTimeoutMs)}),!0}catch(n){if(n instanceof F&&n.code===O.NotFound)return!1;throw Y(n)}}async getInfo(e,t){try{let n=await this.rpc.stat({path:e},{headers:q(t?.user)});if(!n.entry)throw Error("Expected to receive information about the file or directory");return{name:n.entry.name,type:Zt(n.entry.type),path:n.entry.path,size:Number(n.entry.size),mode:n.entry.mode,permissions:n.entry.permissions,owner:n.entry.owner,group:n.entry.group,modifiedTime:Yt(n.entry.modifiedTime),symlinkTarget:n.entry.symlinkTarget}}catch(n){throw Y(n)}}async watchDir(e,t,n){var r,o,i;if(n?.recursive&&this.envdApi.version&&0>Le(this.envdApi.version,"0.1.4"))throw new zr("You need to update the template to use recursive watching. You can do this by running `e2b template build` in the directory with the template.");let s=(r=n?.requestTimeoutMs)!=null?r:this.connectionConfig.requestTimeoutMs,a=new AbortController,u=s?setTimeout(()=>{a.abort()},s):void 0,l=this.rpc.watchDir({path:e,recursive:(o=n?.recursive)!=null?o:this.defaultWatchRecursive},{headers:re(L({},q(n?.user)),{[Je]:"50"}),signal:a.signal,timeoutMs:(i=n?.timeoutMs)!=null?i:this.defaultWatchTimeout});try{return await Jo(l),clearTimeout(u),new qo(()=>a.abort(),l,t,n?.onExit)}catch(d){throw Y(d)}}},ni=class extends K{constructor(e){super(e.error),this.result=e,this.name="CommandExitError"}get exitCode(){return this.result.exitCode}get error(){return this.result.error}get stdout(){return this.result.stdout}get stderr(){return this.result.stderr}},Xt=class{constructor(e,t,n,r,o,i,s){this.pid=e,this.handleDisconnect=t,this.handleKill=n,this.events=r,this.onStdout=o,this.onStderr=i,this.onPty=s,this._stdout="",this._stderr="",this._wait=this.handleEvents()}get exitCode(){var e;return(e=this.result)==null?void 0:e.exitCode}get error(){var e;return(e=this.result)==null?void 0:e.error}get stderr(){return this._stderr}get stdout(){return this._stdout}async wait(){if(await this._wait,this.iterationError)throw this.iterationError;if(!this.result)throw new K("Process exited without a result");if(this.result.exitCode!==0)throw new ni(this.result);return this.result}async disconnect(){this.handleDisconnect()}async kill(){return await this.handleKill()}iterateEvents(){return Ct(this,null,function*(){var e;try{for(var t,n,r,o=Oe(this.events);t=!(n=yield new oe(o.next())).done;t=!1){let i,s=n.value,a=(e=s?.event)==null?void 0:e.event;switch(a?.case){case"data":switch(a.value.output.case){case"stdout":i=new TextDecoder().decode(a.value.output.value),this._stdout+=i,yield[i,null,null];break;case"stderr":i=new TextDecoder().decode(a.value.output.value),this._stderr+=i,yield[null,i,null];break;case"pty":yield[null,null,a.value.output.value]}break;case"end":this.result={exitCode:a.value.exitCode,error:a.value.error,stdout:this.stdout,stderr:this.stderr}}}}catch(i){r=[i]}finally{try{t&&(n=o.return)&&(yield new oe(n.call(o)))}finally{if(r)throw r[0]}}})}async handleEvents(){var e,t,n;try{try{for(var r,o,i,s=Oe(this.iterateEvents());r=!(o=await s.next()).done;r=!1){let[a,u,l]=o.value;a!==null?(e=this.onStdout)==null||e.call(this,a):u!==null?(t=this.onStderr)==null||t.call(this,u):l&&((n=this.onPty)==null||n.call(this,l))}}catch(a){i=[a]}finally{try{r&&(o=s.return)&&await o.call(s)}finally{if(i)throw i[0]}}}catch(a){this.iterationError=Y(a)}}},eo=ir(Te("ChVwcm9jZXNzL3Byb2Nlc3MucHJvdG8SB3Byb2Nlc3MiSgoDUFRZEh8KBHNpemUYASABKAsyES5wcm9jZXNzLlBUWS5TaXplGiIKBFNpemUSDAoEY29scxgBIAEoDRIMCgRyb3dzGAIgASgNIqEBCg1Qcm9jZXNzQ29uZmlnEgsKA2NtZBgBIAEoCRIMCgRhcmdzGAIgAygJEi4KBGVudnMYAyADKAsyIC5wcm9jZXNzLlByb2Nlc3NDb25maWcuRW52c0VudHJ5EhAKA2N3ZBgEIAEoCUgAiAEBGisKCUVudnNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBQgYKBF9jd2QiDQoLTGlzdFJlcXVlc3QiXAoLUHJvY2Vzc0luZm8SJgoGY29uZmlnGAEgASgLMhYucHJvY2Vzcy5Qcm9jZXNzQ29uZmlnEgsKA3BpZBgCIAEoDRIQCgN0YWcYAyABKAlIAIgBAUIGCgRfdGFnIjcKDExpc3RSZXNwb25zZRInCglwcm9jZXNzZXMYASADKAsyFC5wcm9jZXNzLlByb2Nlc3NJbmZvInkKDFN0YXJ0UmVxdWVzdBInCgdwcm9jZXNzGAEgASgLMhYucHJvY2Vzcy5Qcm9jZXNzQ29uZmlnEh4KA3B0eRgCIAEoCzIMLnByb2Nlc3MuUFRZSACIAQESEAoDdGFnGAMgASgJSAGIAQFCBgoEX3B0eUIGCgRfdGFnImIKDVVwZGF0ZVJlcXVlc3QSKQoHcHJvY2VzcxgBIAEoCzIYLnByb2Nlc3MuUHJvY2Vzc1NlbGVjdG9yEh4KA3B0eRgCIAEoCzIMLnByb2Nlc3MuUFRZSACIAQFCBgoEX3B0eSIQCg5VcGRhdGVSZXNwb25zZSKvAwoMUHJvY2Vzc0V2ZW50EjEKBXN0YXJ0GAEgASgLMiAucHJvY2Vzcy5Qcm9jZXNzRXZlbnQuU3RhcnRFdmVudEgAEi8KBGRhdGEYAiABKAsyHy5wcm9jZXNzLlByb2Nlc3NFdmVudC5EYXRhRXZlbnRIABItCgNlbmQYAyABKAsyHi5wcm9jZXNzLlByb2Nlc3NFdmVudC5FbmRFdmVudEgAEjQKCWtlZXBhbGl2ZRgEIAEoCzIfLnByb2Nlc3MuUHJvY2Vzc0V2ZW50LktlZXBBbGl2ZUgAGhkKClN0YXJ0RXZlbnQSCwoDcGlkGAEgASgNGkgKCURhdGFFdmVudBIQCgZzdGRvdXQYASABKAxIABIQCgZzdGRlcnIYAiABKAxIABINCgNwdHkYAyABKAxIAEIICgZvdXRwdXQaWwoIRW5kRXZlbnQSEQoJZXhpdF9jb2RlGAEgASgREg4KBmV4aXRlZBgCIAEoCBIOCgZzdGF0dXMYAyABKAkSEgoFZXJyb3IYBCABKAlIAIgBAUIICgZfZXJyb3IaCwoJS2VlcEFsaXZlQgcKBWV2ZW50IjUKDVN0YXJ0UmVzcG9uc2USJAoFZXZlbnQYASABKAsyFS5wcm9jZXNzLlByb2Nlc3NFdmVudCI3Cg9Db25uZWN0UmVzcG9uc2USJAoFZXZlbnQYASABKAsyFS5wcm9jZXNzLlByb2Nlc3NFdmVudCJjChBTZW5kSW5wdXRSZXF1ZXN0EikKB3Byb2Nlc3MYASABKAsyGC5wcm9jZXNzLlByb2Nlc3NTZWxlY3RvchIkCgVpbnB1dBgCIAEoCzIVLnByb2Nlc3MuUHJvY2Vzc0lucHV0IhMKEVNlbmRJbnB1dFJlc3BvbnNlIjcKDFByb2Nlc3NJbnB1dBIPCgVzdGRpbhgBIAEoDEgAEg0KA3B0eRgCIAEoDEgAQgcKBWlucHV0IsICChJTdHJlYW1JbnB1dFJlcXVlc3QSNwoFc3RhcnQYASABKAsyJi5wcm9jZXNzLlN0cmVhbUlucHV0UmVxdWVzdC5TdGFydEV2ZW50SAASNQoEZGF0YRgCIAEoCzIlLnByb2Nlc3MuU3RyZWFtSW5wdXRSZXF1ZXN0LkRhdGFFdmVudEgAEjoKCWtlZXBhbGl2ZRgDIAEoCzIlLnByb2Nlc3MuU3RyZWFtSW5wdXRSZXF1ZXN0LktlZXBBbGl2ZUgAGjcKClN0YXJ0RXZlbnQSKQoHcHJvY2VzcxgBIAEoCzIYLnByb2Nlc3MuUHJvY2Vzc1NlbGVjdG9yGjEKCURhdGFFdmVudBIkCgVpbnB1dBgCIAEoCzIVLnByb2Nlc3MuUHJvY2Vzc0lucHV0GgsKCUtlZXBBbGl2ZUIHCgVldmVudCIVChNTdHJlYW1JbnB1dFJlc3BvbnNlIl8KEVNlbmRTaWduYWxSZXF1ZXN0EikKB3Byb2Nlc3MYASABKAsyGC5wcm9jZXNzLlByb2Nlc3NTZWxlY3RvchIfCgZzaWduYWwYAiABKA4yDy5wcm9jZXNzLlNpZ25hbCIUChJTZW5kU2lnbmFsUmVzcG9uc2UiOwoOQ29ubmVjdFJlcXVlc3QSKQoHcHJvY2VzcxgBIAEoCzIYLnByb2Nlc3MuUHJvY2Vzc1NlbGVjdG9yIjsKD1Byb2Nlc3NTZWxlY3RvchINCgNwaWQYASABKA1IABINCgN0YWcYAiABKAlIAEIKCghzZWxlY3RvcipICgZTaWduYWwSFgoSU0lHTkFMX1VOU1BFQ0lGSUVEEAASEgoOU0lHTkFMX1NJR1RFUk0QDxISCg5TSUdOQUxfU0lHS0lMTBAJMsoDCgdQcm9jZXNzEjMKBExpc3QSFC5wcm9jZXNzLkxpc3RSZXF1ZXN0GhUucHJvY2Vzcy5MaXN0UmVzcG9uc2USPgoHQ29ubmVjdBIXLnByb2Nlc3MuQ29ubmVjdFJlcXVlc3QaGC5wcm9jZXNzLkNvbm5lY3RSZXNwb25zZTABEjgKBVN0YXJ0EhUucHJvY2Vzcy5TdGFydFJlcXVlc3QaFi5wcm9jZXNzLlN0YXJ0UmVzcG9uc2UwARI5CgZVcGRhdGUSFi5wcm9jZXNzLlVwZGF0ZVJlcXVlc3QaFy5wcm9jZXNzLlVwZGF0ZVJlc3BvbnNlEkoKC1N0cmVhbUlucHV0EhsucHJvY2Vzcy5TdHJlYW1JbnB1dFJlcXVlc3QaHC5wcm9jZXNzLlN0cmVhbUlucHV0UmVzcG9uc2UoARJCCglTZW5kSW5wdXQSGS5wcm9jZXNzLlNlbmRJbnB1dFJlcXVlc3QaGi5wcm9jZXNzLlNlbmRJbnB1dFJlc3BvbnNlEkUKClNlbmRTaWduYWwSGi5wcm9jZXNzLlNlbmRTaWduYWxSZXF1ZXN0GhsucHJvY2Vzcy5TZW5kU2lnbmFsUmVzcG9uc2VCVwoLY29tLnByb2Nlc3NCDFByb2Nlc3NQcm90b1ABogIDUFhYqgIHUHJvY2Vzc8oCB1Byb2Nlc3PiAhNQcm9jZXNzXEdQQk1ldGFkYXRh6gIHUHJvY2Vzc2IGcHJvdG8z"),0),ri=class{constructor(e,t){this.transport=e,this.connectionConfig=t,this.rpc=Tt(eo,this.transport)}async create(e){var t,n,r;let o=(t=e?.requestTimeoutMs)!=null?t:this.connectionConfig.requestTimeoutMs,i=(n=e?.envs)!=null?n:{};i.TERM="xterm-256color";let s=new AbortController,a=setTimeout(()=>{s.abort()},o),u=this.rpc.start({process:{cmd:"/bin/bash",args:["-i","-l"],envs:i,cwd:e?.cwd},pty:{size:{cols:e.cols,rows:e.rows}}},{headers:re(L({},q(e?.user)),{[Je]:"50"}),signal:s.signal,timeoutMs:(r=e?.timeoutMs)!=null?r:6e4});try{let l=await Gt(u);return clearTimeout(a),new Xt(l,()=>s.abort(),()=>this.kill(l),u,void 0,void 0,e.onData)}catch(l){throw Y(l)}}async sendInput(e,t,n){try{await this.rpc.sendInput({input:{input:{case:"pty",value:t}},process:{selector:{case:"pid",value:e}}},{signal:this.connectionConfig.getSignal(n?.requestTimeoutMs)})}catch(r){throw Y(r)}}async resize(e,t,n){try{await this.rpc.update({process:{selector:{case:"pid",value:e}},pty:{size:t}},{signal:this.connectionConfig.getSignal(n?.requestTimeoutMs)})}catch(r){throw Y(r)}}async kill(e,t){try{return await this.rpc.sendSignal({process:{selector:{case:"pid",value:e}},signal:9},{signal:this.connectionConfig.getSignal(t?.requestTimeoutMs)}),!0}catch(n){if(n instanceof F&&n.code===O.NotFound)return!1;throw Y(n)}}},oi=class{constructor(e,t){this.connectionConfig=t,this.defaultProcessConnectionTimeout=6e4,this.rpc=Tt(eo,e)}async list(e){try{return(await this.rpc.list({},{signal:this.connectionConfig.getSignal(e?.requestTimeoutMs)})).processes.map(t=>L(re(L({pid:t.pid},t.tag&&{tag:t.tag}),{args:t.config.args,envs:t.config.envs,cmd:t.config.cmd}),t.config.cwd&&{cwd:t.config.cwd}))}catch(t){throw Y(t)}}async sendStdin(e,t,n){try{await this.rpc.sendInput({process:{selector:{case:"pid",value:e}},input:{input:{case:"stdin",value:new TextEncoder().encode(t)}}},{signal:this.connectionConfig.getSignal(n?.requestTimeoutMs)})}catch(r){throw Y(r)}}async kill(e,t){try{return await this.rpc.sendSignal({process:{selector:{case:"pid",value:e}},signal:9},{signal:this.connectionConfig.getSignal(t?.requestTimeoutMs)}),!0}catch(n){if(n instanceof F&&n.code===O.NotFound)return!1;throw Y(n)}}async connect(e,t){var n,r;let o=(n=t?.requestTimeoutMs)!=null?n:this.connectionConfig.requestTimeoutMs,i=new AbortController,s=o?setTimeout(()=>{i.abort()},o):void 0,a=this.rpc.connect({process:{selector:{case:"pid",value:e}}},{signal:i.signal,headers:{[Je]:"50"},timeoutMs:(r=t?.timeoutMs)!=null?r:this.defaultProcessConnectionTimeout});try{let u=await Gt(a);return clearTimeout(s),new Xt(u,()=>i.abort(),()=>this.kill(u),a,t?.onStdout,t?.onStderr,void 0)}catch(u){throw Y(u)}}async run(e,t){let n=await this.start(e,t);return t?.background?n:n.wait()}async start(e,t){var n,r;let o=(n=t?.requestTimeoutMs)!=null?n:this.connectionConfig.requestTimeoutMs,i=new AbortController,s=o?setTimeout(()=>{i.abort()},o):void 0,a=this.rpc.start({process:{cmd:"/bin/bash",cwd:t?.cwd,envs:t?.envs,args:["-l","-c",e]}},{headers:re(L({},q(t?.user)),{[Je]:"50"}),signal:i.signal,timeoutMs:(r=t?.timeoutMs)!=null?r:this.defaultProcessConnectionTimeout});try{let u=await Gt(a);return clearTimeout(s),new Xt(u,()=>i.abort(),()=>this.kill(u),a,t?.onStdout,t?.onStderr,void 0)}catch(u){throw Y(u)}}},ii=class{constructor(){}static async kill(e,t){var n;let r=new Q(t),o=new pe(r),i=await o.api.DELETE("/sandboxes/{sandboxID}",{params:{path:{sandboxID:e}},signal:r.getSignal(t?.requestTimeoutMs)});if(((n=i.error)==null?void 0:n.code)===404)return!1;let s=fe(i);if(s)throw s;return!0}static async list(e){var t,n;let r,o=new Q(e),i=new pe(o);e?.query&&e.query.metadata&&(r=new URLSearchParams(Object.fromEntries(Object.entries(e.query.metadata).map(([u,l])=>[encodeURIComponent(u),encodeURIComponent(l)]))).toString());let s=await i.api.GET("/sandboxes",{params:{query:{metadata:r}},signal:o.getSignal(e?.requestTimeoutMs)}),a=fe(s);if(a)throw a;return(n=(t=s.data)==null?void 0:t.map(u=>({sandboxId:u.sandboxID,templateId:u.templateID,clientId:u.clientID,state:u.state,cpuCount:u.cpuCount,memoryMB:u.memoryMB,alias:u.alias,metadata:u.metadata,startedAt:new Date(u.startedAt),endAt:new Date(u.endAt)})))!=null?n:[]}static async getInfo(e,t){var n;let r=new Q(t),o=new pe(r),i=await o.api.GET("/sandboxes/{sandboxID}",{params:{path:{sandboxID:e}},signal:r.getSignal(t?.requestTimeoutMs)}),s=fe(i);if(s)throw s;if(!i.data)throw Error("Sandbox not found");return re(L({sandboxId:i.data.sandboxID,sandboxDomain:i.data.domain||void 0,templateId:i.data.templateID},i.data.alias&&{name:i.data.alias}),{metadata:(n=i.data.metadata)!=null?n:{},envdVersion:i.data.envdVersion,envdAccessToken:i.data.envdAccessToken,startedAt:new Date(i.data.startedAt),endAt:new Date(i.data.endAt)})}static async getMetrics(e,t){var n,r;let o=new Q(t),i=new pe(o),s=await i.api.GET("/sandboxes/{sandboxID}/metrics",{params:{path:{sandboxID:e,start:t?.start,end:t?.end}},signal:o.getSignal(t?.requestTimeoutMs)}),a=fe(s);if(a)throw a;return(r=(n=s.data)==null?void 0:n.map(u=>({timestamp:new Date(u.timestamp),cpuUsedPct:u.cpuUsedPct,cpuCount:u.cpuCount,memUsed:u.memUsed,memTotal:u.memTotal,diskUsed:u.diskUsed,diskTotal:u.diskTotal})))!=null?r:[]}static async setTimeout(e,t,n){let r=new Q(n),o=new pe(r),i=fe(await o.api.POST("/sandboxes/{sandboxID}/timeout",{params:{path:{sandboxID:e}},body:{timeout:this.timeoutToSeconds(t)},signal:r.getSignal(n?.requestTimeoutMs)}));if(i)throw i}static async createSandbox(e,t,n){var r;let o=new Q(n),i=new pe(o),s=await i.api.POST("/sandboxes",{body:{autoPause:!1,templateID:e,metadata:n?.metadata,envVars:n?.envs,timeout:this.timeoutToSeconds(t),secure:n?.secure,allow_internet_access:(r=n?.allowInternetAccess)==null||r},signal:o.getSignal(n?.requestTimeoutMs)}),a=fe(s);if(a)throw a;if(0>Le(s.data.envdVersion,"0.1.0"))throw await this.kill(s.data.sandboxID,n),new zr("You need to update the template to use the new SDK. You can do this by running `e2b template build` in the directory with the template.");return{sandboxId:s.data.sandboxID,sandboxDomain:s.data.domain||void 0,envdVersion:s.data.envdVersion,envdAccessToken:s.data.envdAccessToken}}static timeoutToSeconds(e){return Math.ceil(e/1e3)}},jt=class xe extends ii{constructor(t){var n;super(),this.envdPort=49983,this.connectionConfig=new Q(t),this.sandboxId=t.sandboxId,this.sandboxDomain=(n=t.sandboxDomain)!=null?n:this.connectionConfig.domain,this.envdAccessToken=t.envdAccessToken,this.envdApiUrl=`${this.connectionConfig.debug?"http":"https"}://${this.getHost(this.envdPort)}`;let r=function(o){var i;try{new Headers}catch{throw Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}let s=(i=o.useBinaryFormat)!=null&&i;return{async unary(a,u,l,d,c,p){let{serialize:g,parse:f}=xr(a,s,o.jsonOptions,o.binaryOptions);return l=l===void 0?o.defaultTimeoutMs:l<=0?void 0:l,await function(b){let y=kr(b.next,b.interceptors),[h,E,v]=Dr(b);return y(Object.assign(Object.assign({},b.req),{message:M(b.req.method.input,b.req.message),signal:h})).then(N=>(v(),N),E)}({interceptors:o.interceptors,signal:u,timeoutMs:l,req:{stream:!1,service:a.parent,method:a,requestMethod:"POST",url:Cr(o.baseUrl,a),header:Zr(a.methodKind,s,l,d,!1),contextValues:p??Tr(),message:c},next:async b=>{var y;let h=o.useHttpGet===!0&&a.idempotency===Qe.NO_SIDE_EFFECTS,E=null;h?b=function(S,w,k){let A="?connect=v1",x=S.header.get(Ke);x?.indexOf(Yr)===0&&(A+="&encoding="+encodeURIComponent(x.slice(Yr.length)));let U=S.header.get(Lr);U!==null&&U!=="identity"&&(A+="&compression="+encodeURIComponent(U),k=!0),k&&(A+="&base64=1"),A+="&message="+(k?zn(w,"url"):encodeURIComponent(new TextDecoder().decode(w)));let j=S.url+A,V=new Headers(S.header);return[Br,Ke,"Content-Length",Lr,"Accept-Encoding"].forEach(X=>V.delete(X)),Object.assign(Object.assign({},S),{requestMethod:"GET",url:j,header:V})}(b,g(b.message),s):E=g(b.message);let v=(y=o.fetch)!=null?y:P.fetch,N=await v(b.url,Object.assign(Object.assign({},Kr),{method:b.requestMethod,headers:b.header,signal:b.signal,body:E})),{isUnaryError:I,unaryError:T}=Xr(a.methodKind,s,N.status,N.headers);if(I)throw jr(await N.json(),function(...S){let w=new Headers;for(let k of S)k.forEach((A,x)=>{w.append(x,A)});return w}(...Pr(N.headers)),T);let[_,R]=Pr(N.headers);return{stream:!1,service:a.parent,method:a,header:_,message:s?f(new Uint8Array(await N.arrayBuffer())):Er(a.output,await N.json(),Rr(o.jsonOptions)),trailer:R}}})},async stream(a,u,l,d,c,p){let{serialize:g,parse:f}=xr(a,s,o.jsonOptions,o.binaryOptions);async function b(y){if(a.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";let h=await y[Symbol.asyncIterator]().next();if(h.done==!0)throw"missing request message";var E=g(h.value);let v=new Uint8Array(E.length+5);v.set(E,5);let N=new DataView(v.buffer,v.byteOffset,v.byteLength);return N.setUint8(0,0),N.setUint32(1,E.length),v}return l=l===void 0?o.defaultTimeoutMs:l<=0?void 0:l,await function(y){let h=kr(y.next,y.interceptors),[E,v,N]=Dr(y),I=Object.assign(Object.assign({},y.req),{message:function(_,R){function S(w){return w.done===!0?w:{done:w.done,value:M(_,w.value)}}return{[Symbol.asyncIterator](){let w=R[Symbol.asyncIterator](),k={next:()=>w.next().then(S)};return w.throw!==void 0&&(k.throw=A=>w.throw(A).then(S)),w.return!==void 0&&(k.return=A=>w.return(A).then(S)),k}}}(y.req.method.input,y.req.message),signal:E}),T=!1;return E.addEventListener("abort",function(){var _,R;let S=y.req.message[Symbol.asyncIterator]();T||(_=S.throw)==null||_.call(S,this.reason).catch(()=>{}),(R=S.return)==null||R.call(S).catch(()=>{})}),h(I).then(_=>Object.assign(Object.assign({},_),{message:{[Symbol.asyncIterator](){let R=_.message[Symbol.asyncIterator]();return{next:()=>R.next().then(S=>(S.done==!0&&(T=!0,N()),S),v)}}}}),v)}({interceptors:o.interceptors,timeoutMs:l,signal:u,req:{stream:!0,service:a.parent,method:a,requestMethod:"POST",url:Cr(o.baseUrl,a),header:Zr(a.methodKind,s,l,d,!1),contextValues:p??Tr(),message:c},next:async y=>{var h;let E=(h=o.fetch)!=null?h:P.fetch,v=await E(y.url,Object.assign(Object.assign({},Kr),{method:y.requestMethod,headers:y.header,signal:y.signal,body:await b(y.message)}));if(Xr(a.methodKind,s,v.status,v.headers),v.body===null)throw"missing response body";let N=new Headers;return Object.assign(Object.assign({},y),{header:v.headers,trailer:N,message:function(I,T,_,R){return Co(this,arguments,function*(){let S,w,k=(w=new Uint8Array(0),new ReadableStream({start(){S=I.getReader()},async pull(x){let U;for(;;){if(U===void 0&&w.byteLength>=5){let G=0;for(let ie=1;ie<5;ie++)G=(G<<8)+w[ie];U={flags:w[0],length:G}}if(U!==void 0&&w.byteLength>=U.length+5)break;let X=await S.read();if(X.done)break;var j=X.value;let D=new Uint8Array(w.length+j.length);D.set(w),D.set(j,w.length),w=D}if(U===void 0)return w.byteLength==0?void x.close():void x.error(new F("premature end of stream",O.DataLoss));let V=w.subarray(5,5+U.length);w=w.subarray(5+U.length),x.enqueue({flags:U.flags,data:V})}})).getReader(),A=!1;for(;;){let x=yield Ae(k.read());if(x.done)break;let{flags:U,data:j}=x.value;if((1&U)==1)throw new F("protocol error: received unsupported compressed output",O.Internal);if((2&U)==2){A=!0;let V=function(X){let D,G=new F("invalid end stream",O.Unknown);try{D=JSON.parse(typeof X=="string"?X:new TextDecoder().decode(X))}catch{throw G}if(typeof D!="object"||D==null||Array.isArray(D))throw G;let ie=new Headers;if("metadata"in D){if(typeof D.metadata!="object"||D.metadata==null||Array.isArray(D.metadata))throw G;for(let[ao,$t]of Object.entries(D.metadata)){if(!Array.isArray($t)||$t.some(Mt=>typeof Mt!="string"))throw G;for(let Mt of $t)ie.append(ao,Mt)}}let hi="error"in D&&D.error!=null?jr(D.error,ie,G):void 0;return{metadata:ie,error:hi}}(j);if(V.error){let X=V.error;throw _.forEach((D,G)=>{X.metadata.append(G,D)}),X}V.metadata.forEach((X,D)=>T.set(D,X));continue}yield yield Ae(f(j))}if("throwIfAborted"in R&&R.throwIfAborted(),!A)throw"missing EndStreamResponse"})}(v.body,N,v.headers,y.signal)})}})}}}({baseUrl:this.envdApiUrl,useBinaryFormat:!1,interceptors:t?.logger?[function(o){return i=>async s=>{var a,u;(a=o.info)==null||a.call(o,`Request: POST ${s.url}`);let l=await i(s);return l.stream?re(L({},l),{message:function(d){return Ct(this,null,function*(){var c;try{for(var p,g,f,b=Oe(d);p=!(g=yield new oe(b.next())).done;p=!1){let y=g.value;(c=o.debug)==null||c.call(o,"Response stream:",Hr(y)),yield y}}catch(y){f=[y]}finally{try{p&&(g=b.return)&&(yield new oe(g.call(b)))}finally{if(f)throw f[0]}}})}(l.message)}):((u=o.info)==null||u.call(o,"Response:",Hr(l.message)),l)}}(t.logger)]:void 0,fetch:(o,i)=>{let s=new Headers(this.connectionConfig.headers);return new Headers(i?.headers).forEach((a,u)=>s.append(u,a)),this.envdAccessToken&&s.append("X-Access-Token",this.envdAccessToken),fetch(o,i=re(L({},i??{}),{headers:s,redirect:"follow"}))}});this.envdApi=new zo({apiUrl:this.envdApiUrl,logger:t?.logger,accessToken:this.envdAccessToken,headers:this.envdAccessToken?{"X-Access-Token":this.envdAccessToken}:{}},{version:t?.envdVersion}),this.files=new ti(r,this.envdApi,this.connectionConfig),this.commands=new oi(r,this.connectionConfig),this.pty=new ri(r,this.connectionConfig)}static async create(t,n){var r;let{template:o,sandboxOpts:i}=typeof t=="string"?{template:t,sandboxOpts:n}:{template:this.defaultTemplate,sandboxOpts:t},s=new Q(i);return new this(s.debug?L({sandboxId:"debug_sandbox_id"},s):L(L({},await this.createSandbox(o,(r=i?.timeoutMs)!=null?r:this.defaultSandboxTimeoutMs,i)),s))}static async connect(t,n){let r=new Q(n),o=await this.getInfo(t,n);return new this(L({sandboxId:t,sandboxDomain:o.sandboxDomain,envdAccessToken:o.envdAccessToken,envdVersion:o.envdVersion},r))}getHost(t){return this.connectionConfig.debug?`localhost:${t}`:`${t}-${this.sandboxId}.${this.sandboxDomain}`}async isRunning(t){let n=this.connectionConfig.getSignal(t?.requestTimeoutMs),r=await this.envdApi.api.GET("/health",{signal:n});if(r.response.status==502)return!1;let o=await Bt(r);if(o)throw o;return!0}async setTimeout(t,n){this.connectionConfig.debug||await xe.setTimeout(this.sandboxId,t,L(L({},this.connectionConfig),n))}async kill(t){this.connectionConfig.debug||await xe.kill(this.sandboxId,L(L({},this.connectionConfig),t))}async uploadUrl(t,n){var r;n=n??{};let o=!!this.envdAccessToken;if(!o&&n.useSignatureExpiration!=null)throw Error("Signature expiration can be used only when sandbox is created as secured.");let i=(r=n.user)!=null?r:ge,s=t??"",a=this.fileUrl(s,i);if(o){let u=new URL(a),l=await qr({path:s,operation:"write",user:i,expirationInSeconds:n.useSignatureExpiration,envdAccessToken:this.envdAccessToken});return u.searchParams.set("signature",l.signature),l.expiration&&u.searchParams.set("signature_expiration",l.expiration.toString()),u.toString()}return a}async downloadUrl(t,n){var r;n=n??{};let o=!!this.envdAccessToken;if(!o&&n.useSignatureExpiration!=null)throw Error("Signature expiration can be used only when sandbox is created as secured.");let i=(r=n.user)!=null?r:ge,s=this.fileUrl(t,i);if(o){let a=new URL(s),u=await qr({path:t,operation:"read",user:i,expirationInSeconds:n.useSignatureExpiration,envdAccessToken:this.envdAccessToken});return a.searchParams.set("signature",u.signature),u.expiration&&a.searchParams.set("signature_expiration",u.expiration.toString()),a.toString()}return s}async getInfo(t){return await xe.getInfo(this.sandboxId,L(L({},this.connectionConfig),t))}async getMetrics(t){var n,r;if(this.envdApi.version){if(0>Le(this.envdApi.version,"0.1.5"))throw new K("You need to update the template to use the new SDK. You can do this by running `e2b template build` in the directory with the template.");0>Le(this.envdApi.version,"0.2.4")&&((r=(n=this.connectionConfig.logger)==null?void 0:n.warn)==null||r.call(n,"Disk metrics are not supported in this version of the sandbox, please rebuild the template to get disk metrics."))}return await xe.getMetrics(this.sandboxId,L(L({},this.connectionConfig),t))}fileUrl(t,n){let r=new URL("/files",this.envdApiUrl);return r.searchParams.set("username",n??ge),t&&r.searchParams.set("path",t),r.toString()}};jt.defaultTemplate="base",jt.defaultSandboxTimeoutMs=3e5;var si=jt,ai=Object.defineProperty,li=Object.defineProperties,ui=Object.getOwnPropertyDescriptors,to=Object.getOwnPropertySymbols,ci=Object.prototype.hasOwnProperty,di=Object.prototype.propertyIsEnumerable,Pt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),no=(e,t,n)=>t in e?ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kt=(e,t)=>{for(var n in t||(t={}))ci.call(t,n)&&no(e,n,t[n]);if(to)for(var n of to(t))di.call(t,n)&&no(e,n,t[n]);return e},ro=function(e,t){this[0]=e,this[1]=t};async function oo(e){if(!e.ok)switch(e.status){case 502:return new me(`${await e.text()}: This error is likely due to sandbox timeout. You can modify the sandbox timeout by passing 'timeoutMs' when starting the sandbox or calling '.setTimeout' on the sandbox with the desired timeout.`);case 404:return new _e(await e.text());default:return new K(`${e.status} ${e.statusText}`)}}var mi=class{constructor(e,t,n){this.name=e,this.value=t,this.traceback=n}},fi=class{constructor(e,t){this.isMainResult=t;let n=Kt({},e);for(let r of(delete n.type,delete n.is_main_result,this.text=n.text,this.html=n.html,this.markdown=n.markdown,this.svg=n.svg,this.png=n.png,this.jpeg=n.jpeg,this.pdf=n.pdf,this.latex=n.latex,this.json=n.json,this.javascript=n.javascript,this.isMainResult=t,this.raw=n,this.data=n.data,this.chart=n.chart,this.extra={},Object.keys(n)))["plain","html","markdown","svg","png","jpeg","pdf","latex","json","javascript","data","chart","extra","text"].includes(r)||(this.extra[r]=n[r])}formats(){let e=[];for(let t of(this.html&&e.push("html"),this.markdown&&e.push("markdown"),this.svg&&e.push("svg"),this.png&&e.push("png"),this.jpeg&&e.push("jpeg"),this.pdf&&e.push("pdf"),this.latex&&e.push("latex"),this.json&&e.push("json"),this.javascript&&e.push("javascript"),this.data&&e.push("data"),Object.keys(this.extra)))e.push(t);return e}toJSON(){return Kt({text:this.text,html:this.html,markdown:this.markdown,svg:this.svg,png:this.png,jpeg:this.jpeg,pdf:this.pdf,latex:this.latex,json:this.json,javascript:this.javascript},Object.keys(this.extra).length>0?{extra:this.extra}:{})}},pi=class{constructor(e=[],t={stdout:[],stderr:[]},n,r){this.results=e,this.logs=t,this.error=n,this.executionCount=r}get text(){for(let e of this.results)if(e.isMainResult)return e.text}toJSON(){return{results:this.results,logs:this.logs,error:this.error}}};async function gi(e,t,n,r,o,i){let s=JSON.parse(t);switch(s.type){case"result":let a=new fi(li(Kt({},s),ui({type:void 0,is_main_result:void 0})),s.is_main_result);e.results.push(a),o&&await o(a);break;case"stdout":e.logs.stdout.push(s.text),n&&await n({error:!1,line:s.text,timestamp:1e3*new Date().getTime()});break;case"stderr":e.logs.stderr.push(s.text),r&&await r({error:!0,line:s.text,timestamp:1e3*new Date().getTime()});break;case"error":e.error=new mi(s.name,s.value,s.traceback),i&&await i(e.error);break;case"number_of_executions":e.executionCount=s.execution_count}}function io(e){return e instanceof Error&&e.name==="AbortError"?new me("Request timed out \u2014 the 'requestTimeoutMs' option can be used to increase this timeout"):e}var so=class extends si{async runCode(e,t){var n,r,o;if(t?.context&&t?.language)throw new Me("You can provide context or language, but not both at the same time.");let i=new AbortController,s=(n=t?.requestTimeoutMs)!=null?n:this.connectionConfig.requestTimeoutMs,a=s?setTimeout(()=>{i.abort()},s):void 0;try{let p=await fetch(`${this.jupyterUrl}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,context_id:(r=t?.context)==null?void 0:r.id,language:t?.language,env_vars:t?.envs}),signal:i.signal,keepalive:!0}),g=await oo(p);if(g)throw g;if(!p.body)throw Error(`Not response body: ${p.statusText} ${await p?.text()}`);clearTimeout(a);let f=(o=t?.timeoutMs)!=null?o:6e4,b=f?setTimeout(()=>{i.abort()},f):void 0,y=new pi;try{try{let h,E,v;for(var u,l,d,c=(E=(h=function(N){var I,T,_,R;return I=function*(){let S=N.getReader(),w="";try{for(;;){let{done:k,value:A}=yield new ro(S.read());if(A!==void 0&&(w+=new TextDecoder().decode(A)),k){w.length>0&&(yield w);break}let x=-1;do x=w.indexOf(`
`),x!==-1&&(yield w.slice(0,x),w=w.slice(x+1));while(x!==-1)}}finally{S.releaseLock()}},T=(S,w,k,A)=>{try{var x=I[S](w),U=(w=x.value)instanceof ro,j=x.done;Promise.resolve(U?w[0]:w).then(V=>U?T(S==="return"?S:"next",w[1]?{done:V.done,value:V.value}:V,k,A):k({value:V,done:j})).catch(V=>T("throw",V,k,A))}catch(V){A(V)}},_=S=>R[S]=w=>new Promise((k,A)=>T(S,w,k,A)),R={},I=I.apply(this,null),R[Pt("asyncIterator")]=()=>R,_("next"),_("throw"),_("return"),R}(p.body))[Pt("asyncIterator")])?E.call(h):(h=h[Pt("iterator")](),E={},(v=(N,I)=>(I=h[N])&&(E[N]=T=>new Promise((_,R,S)=>(S=(T=I.call(h,T)).done,Promise.resolve(T.value).then(w=>_({value:w,done:S}),R)))))("next"),v("return"),E);u=!(l=await c.next()).done;u=!1){let N=l.value;await gi(y,N,t?.onStdout,t?.onStderr,t?.onResult,t?.onError)}}catch(h){d=[h]}finally{try{u&&(l=c.return)&&await l.call(c)}finally{if(d)throw d[0]}}}catch(h){throw h instanceof Error&&h.name==="AbortError"?new me("Execution timed out \u2014 the 'timeoutMs' option can be used to increase this timeout"):h}finally{clearTimeout(b)}return y}catch(p){throw io(p)}}async createCodeContext(e){try{let t=await fetch(`${this.jupyterUrl}/contexts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:e?.language,cwd:e?.cwd}),keepalive:!0,signal:this.connectionConfig.getSignal(e?.requestTimeoutMs)}),n=await oo(t);if(n)throw n;return await t.json()}catch(t){throw io(t)}}get jupyterUrl(){return`${this.connectionConfig.debug?"http":"https"}://${this.getHost(49999)}`}};so.defaultTemplate="code-interpreter-v1"},lo);export{Ei as __getNamedExports};
